(this["webpackJsonpadventure-maker"]=this["webpackJsonpadventure-maker"]||[]).push([[0],{61:function(e,t,n){},62:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(18),a=n.n(i),s=(n(60),n(61),n(62),n(14)),j=n(13),o=n(5),d=n(6),l=n(79),u=n(74),h=n(75),b=n(53),O=n(73),f=n(71),x=n(80),g=n(54),A=n(51),v=n(81),m=n(82),p=n(11),C=n(12);function q(e,t,n){var c=e.slice();return c[e.indexOf(t)]=n,c}function _(e,t,n){return Object(o.a)(Object(o.a)({},e),{},Object(C.a)({},t,n))}function w(e){var t=Number(e);return Number.isFinite(t)&&!Number.isNaN(t)?t:e}var R={};function k(e){return e in R?R[e]+=1:R[e]=0,"".concat(e," ").concat(R[e])}var y=function e(){Object(p.a)(this,e),this.id=k("Node"),this.name=this.id,this.description="Node description goes here",this.choices=[],this.image="default",this.image_raw=void 0,this.on_enter_effects=void 0,this.on_exit_effects=void 0},D=function e(){Object(p.a)(this,e),this.id=k("trigger"),this.name="Trigger",this.target_node=void 0,this.on_trigger_effects=void 0},S=function e(){Object(p.a)(this,e),this.id=k("choice"),this.key=this.id,this.name="New Choice",this.exit_node="FAIL",this.on_selection_effects=void 0,this.requirements=void 0,this.delay=0,this.delay_message=void 0},E=function e(){Object(p.a)(this,e),this.id=k("effect"),this.effect_type="Add",this.quality="Quality",this.value=1},I=function e(){Object(p.a)(this,e),this.id=k("req"),this.group_type="AND",this.requirements=[]},N=function e(){Object(p.a)(this,e),this.id=k("req"),this.quality="Quality",this.operator="==",this.value=1},T=Object(s.b)({key:"adventure",default:new function e(){Object(p.a)(this,e),this.name="New adventure",this.starting_node="",this.nodes=[],this.triggers=[],this.required_site_traits=[],this.loot_types=[],this.band_modifiers={},this.starting_qualities={}}}),B=Object(s.c)({key:"nodes",get:function(e){return(0,e.get)(T).nodes}}),G=Object(s.d)({key:"single_node",get:function(e){return function(t){return(0,t.get)(T).nodes.find((function(t){return t.id===e}))}},set:function(e){return function(t,n){var c=t.set,r=(0,t.get)(T),i=Object(o.a)(Object(o.a)({},r),{},{nodes:q(r.nodes,r.nodes.find((function(t){return t.id===e})),n)});c(T,i)}}}),Q=Object(s.c)({key:"triggers",get:function(e){return(0,e.get)(T).triggers}}),U=Object(s.d)({key:"single_trigger",get:function(e){return function(t){return(0,t.get)(T).triggers.find((function(t){return t.id===e}))}},set:function(e){return function(t,n){var c=t.set,r=(0,t.get)(T),i=Object(o.a)(Object(o.a)({},r),{},{triggers:q(r.triggers,r.triggers.find((function(t){return t.id===e})),n)});c(T,i)}}}),L=n(77),F=n(83),P=n(70),M=n(72),K=n(52),H=n(1);function V(e){var t=e.handleChange,n=e.handleDelete,c=e.effect.value===Object(e.effect.value)?e.effect.value.value_type:"raw";return Object(H.jsxs)(P.a,{children:[Object(H.jsxs)(A.a,{as:"select",value:e.effect.effect_type,onChange:function(e){return t("effect_type",e.target.value)},children:[Object(H.jsx)("option",{children:"add"}),Object(H.jsx)("option",{children:"remove"}),Object(H.jsx)("option",{children:"set"})]}),Object(H.jsx)(P.a.Prepend,{children:Object(H.jsx)(P.a.Text,{children:"Quality"})}),Object(H.jsx)(A.a,{value:e.effect.quality,onChange:function(e){return t("quality",e.target.value)}}),Object(H.jsx)(P.a.Prepend,{children:Object(H.jsx)(P.a.Text,{children:"Value"})}),function(n){switch(n){case"random":return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(P.a.Text,{children:"Random"}),Object(H.jsx)(A.a,{value:e.effect.value.low,onChange:function(n){return t("value",Object(o.a)(Object(o.a)({},e.effect.value),{},{low:w(n.target.value)}))}}),Object(H.jsx)(P.a.Text,{children:"To"}),Object(H.jsx)(A.a,{value:e.effect.value.high,onChange:function(n){return t("value",Object(o.a)(Object(o.a)({},e.effect.value),{},{high:w(n.target.value)}))}})]});case"raw":return Object(H.jsx)(A.a,{value:e.effect.value,onChange:function(e){return t("value",w(e.target.value))}});default:return Object(H.jsx)(P.a.Text,{children:"Unsupported"})}}(c),Object(H.jsxs)(P.a.Append,{children:[Object(H.jsx)(f.a,{onClick:function(e){var n=["raw","random"],r=n.indexOf(c),i=n[(r+1)%n.length];t("value",function(e){switch(e){case"raw":return 0;case"random":return{value_type:"random",low:0,high:0};default:return 0}}(i))},children:"*"}),Object(H.jsx)(f.a,{variant:"danger",onClick:n,children:"Delete"})]})]})}function J(e){var t=e.handleEffectsChanged,n=e.handleEffectAdded,c=e.handleEffectDeleted;function r(){n(new E)}return e.effects?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(F.a.Header,{children:e.title}),Object(H.jsxs)(M.a,{children:[e.effects.map((function(e){return Object(H.jsx)(K.a,{children:Object(H.jsx)(V,{effect:e,handleChange:function(n,c){return t(e,n,c)},handleDelete:function(t,n){return c(e,t,n)}})},e.id)})),Object(H.jsx)(K.a,{children:Object(H.jsx)(f.a,{onClick:r,children:"Add New Effect"})})]})]}):Object(H.jsxs)(P.a,{children:[Object(H.jsx)(P.a.Prepend,{children:Object(H.jsx)(P.a.Text,{children:e.title})}),Object(H.jsx)(P.a.Append,{children:Object(H.jsx)(f.a,{onClick:r,children:"Create Effect"})})]})}function X(e){var t=e.handleRequirementsChanged,n=e.handleRequirementAdded,c=e.handleRequirementDeleted;function r(){n(new N)}return e.requirements?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(F.a.Header,{children:e.title}),Object(H.jsxs)(M.a,{children:[e.requirements.map((function(e){return e.requirements?Object(H.jsx)(Y,{group:e,handleReqGroupChanged:function(n,c){return t(e,n,c)},handleReqGroupDeleted:function(){return c(e)}},e.id):Object(H.jsx)(Z,{requirement:e,handleReqChanged:function(n,c){return t(e,n,c)},handleReqDeleted:function(){return c(e)}},e.id)})),Object(H.jsx)(M.a.Item,{children:Object(H.jsxs)(O.a,{children:[Object(H.jsx)(f.a,{onClick:function(){n(new I)},children:"Add Req Group"}),Object(H.jsx)(f.a,{onClick:r,children:"Add Single Req"})]})})]})]}):Object(H.jsxs)(P.a,{children:[Object(H.jsx)(P.a.Prepend,{children:Object(H.jsx)(P.a.Text,{children:e.title})}),Object(H.jsx)(P.a.Append,{children:Object(H.jsx)(f.a,{onClick:r,children:"Add Requirements"})})]})}function Z(e){var t=e.handleReqDeleted,n=e.handleReqChanged;return Object(H.jsxs)(P.a,{children:[Object(H.jsx)(P.a.Prepend,{children:Object(H.jsx)(P.a.Text,{children:"Quality"})}),Object(H.jsx)(A.a,{value:e.requirement.quality,onChange:function(e){return n("quality",e.target.value)}}),Object(H.jsxs)(A.a,{as:"select",value:e.requirement.operator,onChange:function(e){return n("operator",e.target.value)},children:[Object(H.jsx)("option",{children:"=="}),Object(H.jsx)("option",{children:"!="}),Object(H.jsx)("option",{children:">"}),Object(H.jsx)("option",{children:"<"}),Object(H.jsx)("option",{children:">="}),Object(H.jsx)("option",{children:"<="})]}),Object(H.jsx)(A.a,{value:e.requirement.value,onChange:function(e){return n("value",w(e.target.value))}}),Object(H.jsx)(P.a.Append,{children:Object(H.jsx)(f.a,{variant:"danger",onClick:function(){return t(e.requirement)},children:"Delete"})})]})}function Y(e){var t=e.handleReqGroupDeleted,n=e.handleReqGroupChanged,c=function(t){var c=e.group.requirements.filter((function(e){return e!==t}));n("requirements",c)},r=function(t,c,r){var i=Object(o.a)(Object(o.a)({},t),{},Object(C.a)({},c,r)),a=e.group.requirements.slice();a[e.group.requirements.indexOf(t)]=i,n("requirements",a)};return Object(H.jsxs)(F.a,{border:"dark",children:[Object(H.jsx)(F.a.Header,{children:Object(H.jsxs)(P.a,{children:[Object(H.jsxs)(A.a,{as:"select",value:e.group.group_type,onChange:function(e){return n("group_type",e.target.value)},children:[Object(H.jsx)("option",{children:"AND"}),Object(H.jsx)("option",{children:"OR"})]}),Object(H.jsx)(P.a.Text,{children:"Group"}),Object(H.jsx)(P.a.Append,{children:Object(H.jsx)(f.a,{variant:"danger",onClick:function(){return t(e.group)},children:"Delete"})})]})}),Object(H.jsxs)(M.a,{children:[Object(H.jsx)(M.a.Item,{children:e.group.requirements.map((function(e){return e.requirements?Object(H.jsx)(Y,{group:e,handleReqGroupDeleted:c,handleReqGroupChanged:function(t,n){return r(e,t,n)}},e.id):Object(H.jsx)(Z,{requirement:e,handleReqDeleted:c,handleReqChanged:function(t,n){return r(e,t,n)}},e.id)}))}),Object(H.jsx)(M.a.Item,{children:Object(H.jsxs)(O.a,{children:[Object(H.jsx)(f.a,{onClick:function(){var t=new I,c=[].concat(Object(j.a)(e.group.requirements),[t]);n("requirements",c)},children:"Add Req Group"}),Object(H.jsx)(f.a,{onClick:function(){var t=new N,c=[].concat(Object(j.a)(e.group.requirements),[t]);n("requirements",c)},children:"Add Single Req"})]})})]})]})}var W=n(37),z=n(76),$=["FAIL","WIN","GO_BACK"],ee=["ruins","technology present","space station","alien","habitable","in vacuum","in space","on surface"],te=["Plasma absorbption band","Hydrocarbons/Molecular oxygen","Narrow-band radio waves","Exotic Radiation","Increased Density"],ne=["maint","drugs","research","weapons","pets","unique"],ce={default:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABkBAMAAAAxqGI4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAGUExURQAAAP8AABv/jSIAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAC7SURBVGje7ZdBDsJADAPjH2T//1lAgNrlxMVDiTynnjKyu6m6FUIIIfyA9aCtCq0XhMNo0bMoWRt7j3Za7rOPJ5fkNNj3Vk5zbVGOtiCJra9trFHSm6TdEvkka46kR0i2uX8t2bZRri+kPpax3FCSdjtESdwOpK0a05agtuwOJIiAIEUEKSKIGMmQtooIIiKIprQFSSqS71FHcjVJCD6gHzvmsuiOogVcSSO5ngQ5XcyeMDegEEIIYTBVNw34EbwIRO7ZAAAAAElFTkSuQmCC",grue:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABkBAMAAAAxqGI4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJUExURQAAAP8AAP8hAFWgYwIAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABbSURBVGje7dPBDYAgEEVBtAKXCmT7L1LucgRi4kwDL/nZLQAAAAAAAPxQXOsbR8SGSG3rKy0zB+m5G/ZG3q/G5A3PQeTMDRNGjeU312+htuWRjLbheQAA+KxSHrpcA/wdxXfnAAAAAElFTkSuQmCC",signal_lost:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABkBAMAAAAxqGI4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAGUExURQAAAP8AABv/jSIAAAAJcEhZcwAADsIAAA7CARUoSoAAAADZSURBVGje7ZNRFoQgCADhBnD/y66AWenbLb935vXK1BwhEQAAAAAAAACAv0LdXLzR2tVsPepuItWZ9Gb0xgxzvww+k7Prk978LvHo1rjvSTQWb4/cYry1q9bLjnMvdWvzwhMRy4bEhqSamb5cZpHUhD66Jck0D4m8kNTIjqTy3CXxK9QsM9hDXCXqcyrfae6SfgZK4qfED6+67UnWf/IkcZmjfCPR83SlREeuJkk/XVUuW5Lc81QnkUG9FYMf5XSZuxPJWD4e9lNSIehUqAAAAAAAAAAAAFdEPmbgEwxTT+ziAAAAAElFTkSuQmCC",trader:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABkBAMAAAAxqGI4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJUExURQAAAP/YAH8zAHXkPMkAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAF8SURBVGje7dkLbsMgDAZg8AnwDbzd/5BTk3aD+A9Ngp2ChvuSIuoP2W4TtWHGjBkzZsyYMWxE5uSYnpfwEuKa3il7vnmxz643b4rsVJ6+TbLnm9fdbUb05i2RvbGJ+pDIpaZUxsYO+X37DQgqtkYoCBkjeoRHQFCxNSLLbTgk6s9OG4KKvYOQM0KhfwQVW3/X34LI6945Qs4IKvZ6ltmsegj07xFUbI1I9jBC9HXFAAgs9j5CjggFc+R5McZmCCp2BbnWlGOIDITkxX4aWef/8l9pCuyoQigMhGTFjtaI1BAuVhXPPSPkhsBicxUhayTlq/pGYLHryPmmICQqRFwRNkfoIHK2KbCjCqFgjzBCslNME/J6yZG0rioPnWyKHEKEi0guyFeJcBOyFi++Rc79mgrHpkCWznMzosZGI6HFwGMDkNBg4LFhgKBLsaMBx6apNgeQ5IHwHQhKGM0RMDYbxOaPhu3YuCB7qCvCn0DSRCoRP4LwqMiMGb1GCD/OSlYEGoUISwAAAABJRU5ErkJggg=="};function re(e){var t=Object(c.useState)(e.startCollapsed),n=Object(d.a)(t,2),r=n[0],i=n[1];return Object(H.jsxs)(u.a,{children:[Object(H.jsx)(h.a,{children:Object(H.jsx)(b.a,{children:Object(H.jsx)(F.a.Header,{onClick:function(){return i(!r)},children:Object(H.jsx)(u.a,{children:Object(H.jsxs)(h.a,{children:[Object(H.jsx)(b.a,{className:"flex-grow",children:e.title}),Object(H.jsx)(b.a,{className:"flex-grow-0",children:r?"\u25bc":"\u25b2"})]})})})})}),Object(H.jsx)(h.a,{children:Object(H.jsx)(b.a,{children:Object(H.jsx)(u.a,{className:r?"d-none":"",children:Object(H.jsx)(h.a,{children:Object(H.jsx)(b.a,{children:e.children})})})})})]})}function ie(e){var t=e.allowNone,n=void 0!==t&&t,c=e.allowCustom,r=void 0===c||c,i=Object(W.a)(e,["allowNone","allowCustom"]),a=Object(s.e)(B),j=Object(d.a)(a,1)[0];return Object(H.jsxs)(A.a,Object(o.a)(Object(o.a)({},i),{},{as:"select",children:[j.map((function(e){return Object(H.jsx)("option",{children:e.name},e.id)})),!!n&&Object(H.jsx)("option",{value:"",children:"None"}),!!r&&$.map((function(e){return Object(H.jsx)("option",{children:e})}))]}))}function ae(e){var t=e.presetKeys,n=e.value,r=e.onChange,i=void 0===r?function(){}:r,a=Object(c.useState)(n),s=Object(d.a)(a,2),j=s[0],l=s[1],u=Object(c.useState)(t?t[0]:""),h=Object(d.a)(u,2),b=h[0],O=h[1],x=Object(c.useState)(""),g=Object(d.a)(x,2),v=g[0],m=g[1],p=Object.keys(j);return Object(H.jsxs)(z.a,{size:"sm",children:[Object(H.jsx)("thead",{children:Object(H.jsxs)("tr",{children:[Object(H.jsx)("th",{children:"Quality"}),Object(H.jsx)("th",{children:"Value"}),Object(H.jsx)("th",{})]})}),Object(H.jsxs)("tbody",{children:[p.map((function(e){return Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:e}),Object(H.jsx)("td",{children:j[e]}),Object(H.jsx)("td",{children:Object(H.jsx)(f.a,{variant:"danger",onClick:function(){return function(e){var t=Object(o.a)({},j);delete t[e],l(t),i(t)}(e)},children:"Delete"})})]},e)})),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:t?Object(H.jsx)(A.a,{as:"select",value:b,onChange:function(e){return O(e.target.value)},children:t.map((function(e){return Object(H.jsx)("option",{children:e},e)}))}):Object(H.jsx)(A.a,{value:b,onChange:function(e){return O(e.target.value)}})}),Object(H.jsx)("td",{children:Object(H.jsx)(A.a,{value:v,onChange:function(e){return m(e.target.value)}})}),Object(H.jsx)("td",{children:Object(H.jsx)(f.a,{onClick:function(){var e=Object(o.a)(Object(o.a)({},j),{},Object(C.a)({},b,v));l(e),i(e)},children:"Add"})})]})]})]})}function se(e){var t=e.presetValues,n=e.value,r=e.onChange,i=void 0===r?function(){}:r,a=e.unique,s=void 0===a||a,o=Object(c.useState)(n),l=Object(d.a)(o,2),u=l[0],h=l[1],b=Object(c.useState)(t?t[0]:""),O=Object(d.a)(b,2),x=O[0],v=O[1];return Object(H.jsxs)(g.a,{children:[u.map((function(e){return Object(H.jsxs)(P.a,{children:[Object(H.jsx)(P.a.Text,{children:e}),Object(H.jsx)(P.a.Append,{children:Object(H.jsx)(f.a,{variant:"danger",onClick:function(){return function(e){var t=u.filter((function(t){return t!==e}));h(t),i(t)}(e)},children:"X"})})]},e)})),Object(H.jsxs)(P.a,{children:[Object(H.jsx)(P.a.Prepend,{children:t?Object(H.jsx)(A.a,{as:"select",value:x,onChange:function(e){return v(e.target.value)},children:t.map((function(e){return Object(H.jsx)("option",{children:e},e)}))}):Object(H.jsx)(A.a,{value:x,onChange:function(e){return v(e.target.value)}})}),Object(H.jsx)(P.a.Append,{children:Object(H.jsx)(f.a,{onClick:function(){if(!(s&&u.indexOf(x)>=0)){var e=[].concat(Object(j.a)(u),[x]);h(e),i(e)}},children:"Add"})})]})]})}function je(e){var t=e.handleChoiceDeletion,n=e.handleChoiceChange,r=Object(c.useState)(e.choice.exit_node),i=Object(d.a)(r,2),a=i[0],s=i[1];return Object(H.jsx)(F.a,{children:Object(H.jsxs)(F.a.Body,{children:[Object(H.jsxs)(P.a,{children:[Object(H.jsx)(P.a.Prepend,{children:Object(H.jsx)(P.a.Text,{children:"Choice"})}),Object(H.jsx)(A.a,{value:e.choice.name,onChange:function(e){return n("name",e.target.value)}}),Object(H.jsx)(P.a.Append,{children:Object(H.jsx)(f.a,{variant:"danger",onClick:t,children:"Delete"})})]}),Object(H.jsxs)(P.a,{children:[Object(H.jsx)(P.a.Prepend,{children:Object(H.jsx)(P.a.Text,{children:"Exit Node"})}),Object(H.jsx)(ie,{value:a,onChange:function(e){s(e.target.value),n("exit_node",e.target.value)},allowNone:!1})]}),Object(H.jsxs)(P.a,{children:[Object(H.jsx)(P.a.Prepend,{children:Object(H.jsx)(P.a.Text,{children:"Delay(ds)"})}),Object(H.jsx)(A.a,{value:e.choice.delay,onChange:function(e){return n("delay",w(e.target.value))}}),Object(H.jsx)(P.a.Text,{children:"Message"}),Object(H.jsx)(A.a,{value:e.choice.delay_message,onChange:function(e){return n("delay_message",e.target.value)}})]}),Object(H.jsx)(J,{title:"Selection Effects",effects:e.choice.on_selection_effects,handleEffectAdded:function(t){return function(t,c){var r=e.choice[t],i=void 0!==r?[].concat(Object(j.a)(r),[c]):[c];n(t,i)}("on_selection_effects",t)},handleEffectsChanged:function(t,c,r){return function(t,c,r,i){var a=Object(o.a)(Object(o.a)({},c),{},Object(C.a)({},r,i)),s=e.choice[t].slice();s[e.choice[t].indexOf(c)]=a,n(t,s)}("on_selection_effects",t,c,r)},handleEffectDeleted:function(t){return function(t,c){var r=e.choice[t].filter((function(e){return e!==c}));n(t,r.length?r:void 0)}("on_selection_effects",t)}}),Object(H.jsx)(X,{title:"Requirements",requirements:e.choice.requirements,handleRequirementAdded:function(t){var c=e.choice.requirements,r=void 0!==c?[].concat(Object(j.a)(c),[t]):[t];n("requirements",r)},handleRequirementDeleted:function(t){var c=e.choice.requirements.filter((function(e){return e!==t}));n("requirements",c.length?c:void 0)},handleRequirementsChanged:function(t,c,r){var i=Object(o.a)(Object(o.a)({},t),{},Object(C.a)({},c,r)),a=e.choice.requirements.slice();a[e.choice.requirements.indexOf(t)]=i,n("requirements",a)}})]})})}function oe(e){var t=e.handleNodeDeletion,n=Object(s.e)(G(e.node.id)),r=Object(d.a)(n,2),i=r[0],a=r[1],l=function(t,n){var c=e.node[t],r=void 0!==c?[].concat(Object(j.a)(c),[n]):[n];a(_(i,t,r))},u=function(t,n,c,r){var s=Object(o.a)(Object(o.a)({},n),{},Object(C.a)({},c,r)),j=e.node[t].slice();j[e.node[t].indexOf(n)]=s,a(_(i,t,j))},h=function(t,n){var c=e.node[t].filter((function(e){return e!==n}));a(_(i,t,c.length?c:void 0))},b=i.raw_image?i.raw_image:ce[i.image],O=Object(c.useRef)(),v=i.raw_image?"custom image data":i.image;return Object(H.jsxs)(L.a,{children:[Object(H.jsx)(F.a,{children:Object(H.jsxs)(F.a.Body,{children:[Object(H.jsxs)(F.a.Title,{children:[i.name," ",Object(H.jsx)(f.a,{variant:"danger",onClick:t,children:"Delete"})]}),Object(H.jsx)(F.a.Img,{variant:"top",src:b}),Object(H.jsxs)(P.a,{children:[Object(H.jsx)(P.a.Prepend,{children:Object(H.jsx)(P.a.Text,{children:"Image"})}),Object(H.jsx)(x.a.Control,{as:"select",value:v,readOnly:void 0!==i.raw_image,onChange:function(e){a(_(i,"image",e.target.value))},children:Object.keys(ce).map((function(e){return Object(H.jsx)("option",{children:e},e)}))}),Object(H.jsx)(x.a.File,{type:"file",accept:"image/png",ref:O,onChange:function(e){var t=new FileReader;t.onload=function(e){var t=new Image;t.onload=function(){if(200===t.width&&100===t.height){var n=Object(o.a)(Object(o.a)({},i),{},{raw_image:e.target.result,image:null});a(n)}else alert("Adventure images need to be be 200x100 pngs.")},t.src=e.target.result},t.readAsDataURL(e.target.files[0])},style:{display:"none"}}),Object(H.jsxs)(P.a.Append,{children:[Object(H.jsx)(f.a,{onClick:function(){O.current.click()},children:"Custom"}),Object(H.jsx)(f.a,{onClick:function(){var e=Object(o.a)(Object(o.a)({},i),{},{raw_image:void 0,image:"default"});a(e)},children:"Reset"})]})]}),Object(H.jsxs)(g.a,{children:[Object(H.jsx)(x.a.Label,{children:"Node ID"}),Object(H.jsx)(A.a,{value:i.name,onChange:function(e){var t=_(i,"name",e.target.value);a(t)}})]}),Object(H.jsxs)(g.a,{children:[Object(H.jsx)(x.a.Label,{children:"Description"}),Object(H.jsx)(A.a,{as:"textarea",rows:5,placeholder:"Describe whatever here.",value:i.description,onChange:function(e){return a(_(i,"description",e.target.value))}})]}),Object(H.jsx)(J,{title:"On Enter Effects",effects:i.on_enter_effects,handleEffectAdded:function(e){return l("on_enter_effects",e)},handleEffectsChanged:function(e,t,n){return u("on_enter_effects",e,t,n)},handleEffectDeleted:function(e){return h("on_enter_effects",e)}}),Object(H.jsx)(J,{title:"On Exit Effects",effects:i.on_exit_effects,parent_id:i.id,handleEffectAdded:function(e){return l("on_exit_effects",e)},handleEffectsChanged:function(e,t,n){return u("on_exit_effects",e,t,n)},handleEffectDeleted:function(e){return h("on_exit_effects",e)}})]})}),Object(H.jsx)(F.a,{children:Object(H.jsxs)(F.a.Body,{children:[Object(H.jsx)(F.a.Title,{children:"Choices"}),i.choices.map((function(t){return Object(H.jsx)(je,{choice:t,handleChoiceDeletion:function(){return function(t){var n=e.node.choices.filter((function(e){return e!==t}));a(_(i,"choices",n))}(t)},handleChoiceChange:function(n,c){var r=Object(o.a)(Object(o.a)({},t),{},Object(C.a)({},n,c));!function(t,n){var c=e.node.choices.slice();c[e.node.choices.indexOf(t)]=n,a(_(i,"choices",c))}(t,r)}})})),Object(H.jsx)(f.a,{onClick:function(){return function(t){var n=[].concat(Object(j.a)(e.node.choices),[t]);a(_(i,"choices",n))}(new S)},children:"Add Choice"})]})})]})}function de(e){var t=e.handleDeletion,n=Object(s.e)(U(e.trigger.id)),c=Object(d.a)(n,2),r=c[0],i=c[1];return Object(H.jsx)(F.a,{children:Object(H.jsxs)(F.a.Body,{children:[Object(H.jsxs)(F.a.Title,{children:["Trigger ",Object(H.jsx)(f.a,{variant:"danger",onClick:t,children:"Delete"})]}),Object(H.jsxs)(g.a,{children:[Object(H.jsx)(x.a.Label,{children:"Trigger ID"}),Object(H.jsx)(A.a,{value:r.name,onChange:function(e){i(_(r,"name",e.target.value))}})]}),Object(H.jsxs)(g.a,{children:[Object(H.jsx)(x.a.Label,{children:"Target Node On Trigger"}),Object(H.jsx)(ie,{allowNone:!0,value:r.target_node,onChange:function(e){i(_(r,"target_node",e.target.value))}})]}),Object(H.jsx)(J,{title:"On Trigger Effects",effects:r.on_trigger_effects,handleEffectAdded:function(t){return function(t,n){var c=e.trigger[t],a=void 0!==c?[].concat(Object(j.a)(c),[n]):[n];i(_(r,t,a))}("on_trigger_effects",t)},handleEffectsChanged:function(t,n,c){return function(t,n,c,a){var s=Object(o.a)(Object(o.a)({},n),{},Object(C.a)({},c,a)),j=e.trigger[t].slice();j[e.trigger[t].indexOf(n)]=s,i(_(r,t,j))}("on_trigger_effects",t,n,c)},handleEffectDeleted:function(t){return function(t,n){var c=e.trigger[t].filter((function(e){return e!==n}));i(_(r,t,c.length?c:void 0))}("on_trigger_effects",t)}}),Object(H.jsx)(X,{title:"Trigger Requirements",requirements:e.trigger.requirements,handleRequirementAdded:function(t){var n=e.trigger.requirements,c=void 0!==n?[].concat(Object(j.a)(n),[t]):[t];i(_(r,"requirements",c))},handleRequirementDeleted:function(t){var n=e.trigger.requirements.filter((function(e){return e!==t}));i(_(r,"requirements",n.length?n:void 0))},handleRequirementsChanged:function(t,n,c){var a=Object(o.a)(Object(o.a)({},t),{},Object(C.a)({},n,c)),s=e.trigger.requirements.slice();s[e.trigger.requirements.indexOf(t)]=a,i(_(r,"requirements",s))}})]})})}var le=n(78);function ue(e){var t=e.adventure,n=Object(c.useState)(t.nodes.find((function(e){return e.name===t.starting_node}))||t.nodes[0]),r=Object(d.a)(n,2),i=r[0],a=r[1],s=Object(c.useState)(t.starting_qualities),j=Object(d.a)(s,2)[1];return i?Object(H.jsxs)(u.a,{children:[Object(H.jsx)(le.a,{variant:"danger",children:"Unfinished, this is not representative of how it works in-game for now."}),Object(H.jsx)(h.a,{children:Object(H.jsx)(b.a,{children:Object(H.jsx)(f.a,{onClick:function(){a(t.nodes.find((function(e){return e.name===t.starting_node}))||t.nodes[0]),j(t.starting_qualities)},children:"Restart"})})}),Object(H.jsx)(h.a,{children:Object(H.jsx)(b.a,{children:Object(H.jsxs)(F.a,{children:[Object(H.jsx)(F.a.Img,{src:i.raw_image?i.raw_image:ce[i.image]}),Object(H.jsxs)(F.a.Body,{children:[Object(H.jsx)(F.a.Text,{children:i.description}),Object(H.jsx)(u.a,{children:i.choices.filter((function(e){return!0})).map((function(e){return Object(H.jsx)(h.a,{children:Object(H.jsx)(b.a,{children:Object(H.jsx)(f.a,{onClick:function(){return function(e){a(t.nodes.find((function(t){return t.name===e.exit_node})))}(e)},children:e.name})})})}))})]})]})})})]}):Object(H.jsx)(le.a,{variant:"danger",children:"You need at least one node to play."})}function he(){var e=Object(s.e)(T),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(s.e)(B),a=Object(d.a)(i,1)[0],p=Object(s.e)(Q),C=Object(d.a)(p,1)[0],q=Object(c.useState)(""),w=Object(d.a)(q,2),R=w[0],S=w[1],E=Object(c.useState)(null),I=Object(d.a)(E,2),N=I[0],G=I[1],U=Object(c.useRef)(),L=R||function(){if(a.length)return a[0].id.toString()}(),F=n.starting_node||function(){if(a.length)return a[0].name}(),P=Object(c.useState)(!1),M=Object(d.a)(P,2),K=M[0],V=M[1],J=function(){V(!K)};return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(l.a,{show:K,onHide:J,children:Object(H.jsx)(ue,{adventure:n})}),Object(H.jsxs)(u.a,{children:[Object(H.jsx)(h.a,{children:Object(H.jsx)(b.a,{children:Object(H.jsxs)(O.a,{children:[Object(H.jsx)(f.a,{onClick:function(){var e={adventure_name:n.name,starting_node:F,starting_qualities:n.starting_qualities,band_modifiers:n.band_modifiers,loot_categories:n.loot_types,scan_band_mods:n.band_modifiers,nodes:a},t=new Blob([JSON.stringify(e,(function(e,t){if("id"!==e)return t}))],{type:"application/json"}),c=URL.createObjectURL(t);window.open(c)},children:"Export"}),Object(H.jsx)(f.a,{onClick:function(){U.current.click()},children:"Import"}),Object(H.jsx)(x.a.File,{onChange:function(e){var t=new FileReader;t.onload=function(e){var t=JSON.parse(e.target.result,(function(e,t){return t===Object(t)&&(t.id=k("import")),t})),c=Object(o.a)(Object(o.a)({},n),{},{name:t.adventure_name,starting_node:t.starting_node,triggers:t.triggers,nodes:t.nodes});r(c)},t.readAsText(e.target.files[0])},accept:".json",ref:U,style:{display:"none"}}),Object(H.jsx)(f.a,{onClick:J,children:"Test"})]})})}),Object(H.jsx)(h.a,{children:Object(H.jsx)(b.a,{children:Object(H.jsx)(re,{title:"Adventure Config",children:Object(H.jsxs)(x.a,{children:[Object(H.jsxs)(g.a,{children:[Object(H.jsx)(x.a.Label,{children:"Adventure name"}),Object(H.jsx)(A.a,{placeholder:"New adventure",value:n.name,onChange:function(e){return r(_(n,"name",e.target.value))}})]}),Object(H.jsxs)(g.a,{children:[Object(H.jsx)(x.a.Label,{children:"Starting node"}),Object(H.jsx)(ie,{value:F,onChange:function(e){return r(_(n,"starting_node",e.target.value))},allowCustom:!1})]}),Object(H.jsxs)(g.a,{children:[Object(H.jsx)(x.a.Label,{children:"Starting qualities"}),Object(H.jsx)(ae,{value:n.starting_qualities,onChange:function(e){return r(_(n,"starting_qualities",e))}})]}),Object(H.jsxs)(g.a,{children:[Object(H.jsx)(x.a.Label,{children:"Required site traits"}),Object(H.jsx)(se,{presetValues:ee,value:n.required_site_traits,onChange:function(e){return r(_(n,"required_site_traits",e))}})]}),Object(H.jsxs)(g.a,{children:[Object(H.jsx)(x.a.Label,{children:"Loot type"}),Object(H.jsx)(se,{presetValues:ne,value:n.loot_types,onChange:function(e){return r(_(n,"loot_types",e))}})]}),Object(H.jsxs)(g.a,{children:[Object(H.jsx)(x.a.Label,{children:"Scanning modifiers"}),Object(H.jsx)(ae,{presetKeys:te,value:n.band_modifiers,onChange:function(e){return r(_(n,"band_modifiers",e))}})]})]})})})}),Object(H.jsx)(h.a,{children:Object(H.jsx)(b.a,{children:Object(H.jsx)(re,{title:"Nodes",children:Object(H.jsxs)(v.a.Container,{id:"nodes",activeKey:L,onSelect:function(e){return S(e)},children:[Object(H.jsx)(h.a,{children:Object(H.jsx)(b.a,{children:Object(H.jsxs)(m.a,{variant:"tabs",children:[a.map((function(e){return Object(H.jsx)(m.a.Item,{draggable:!0,onDragEnd:function(e){G(null)},onDragStart:function(t){return function(e,t){G(t)}(0,e)},onDrop:function(){return function(e){if(null!=N){var t=a.indexOf(e),c=a.indexOf(N),i=a.slice(),s=[i[c],i[t]];i[t]=s[0],i[c]=s[1],r(_(n,"nodes",i))}}(e)},onDragOver:function(t){return function(e,t){null!=N&&t!==N&&e.preventDefault()}(t,e)},children:Object(H.jsx)(m.a.Link,{eventKey:e.id,children:e.name})},e.id)})),Object(H.jsx)(m.a.Item,{children:Object(H.jsx)(m.a.Link,{onClick:function(){var e=Object(o.a)(Object(o.a)({},n),{},{nodes:[].concat(Object(j.a)(a),[new y])});r(e)},children:"Add Node"})})]})})}),Object(H.jsx)(h.a,{children:Object(H.jsx)(b.a,{children:Object(H.jsx)(v.a.Content,{children:a.map((function(e){return Object(H.jsx)(v.a.Pane,{eventKey:e.id,children:Object(H.jsx)(oe,{node:e,handleNodeDeletion:function(){return function(e){var t=a.filter((function(t){return t!==e}));r(_(n,"nodes",t))}(e)}})},e.id)}))})})})]})})})}),Object(H.jsx)(h.a,{children:Object(H.jsx)(b.a,{children:Object(H.jsx)(re,{title:"Triggers",startCollapsed:!0,children:Object(H.jsx)(u.a,{children:Object(H.jsxs)(h.a,{children:[C.map((function(e){return Object(H.jsx)(b.a,{xl:"auto",children:Object(H.jsx)(de,{trigger:e,handleDeletion:function(){return function(e){var t=C.filter((function(t){return t!==e}));r(_(n,"triggers",t))}(e)}})})})),Object(H.jsx)(b.a,{children:Object(H.jsx)(f.a,{onClick:function(){var e=Object(o.a)(Object(o.a)({},n),{},{triggers:[].concat(Object(j.a)(C),[new D])});r(e)},children:"Add Trigger"})})]})})})})})]})]})}var be=function(){return Object(H.jsx)(s.a,{children:Object(H.jsx)(he,{})})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,84)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(H.jsx)(r.a.StrictMode,{children:Object(H.jsx)(be,{})}),document.getElementById("root")),Oe()}},[[68,1,2]]]);
//# sourceMappingURL=main.df4ee40d.chunk.js.map