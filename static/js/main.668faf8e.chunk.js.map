{"version":3,"sources":["Helpers.tsx","State.tsx","ExternalDefines.tsx","images/default.png","images/grue.png","images/signal_lost.png","images/trade.png","Components/EffectBuilder.tsx","Components/RequirementsBuilder.tsx","Components/Utility.tsx","Components/AdventureChoice.tsx","Components/AdventureNode.tsx","Components/AdventureTrigger.tsx","Components/AdventurePlayer.tsx","Components/AdventureEditor.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["replaceItemInArray","arr","oldVal","newValue","modifed","slice","indexOf","updateProp","obj","prop_name","new_value","convertNumberValue","value","as_number","Number","isFinite","isNaN","global_ids","unique_id","category","NodeData","id","name","description","choices","image","raw_image","on_enter_effects","on_exit_effects","this","undefined","TriggerData","target_node","on_trigger_effects","requirements","ChoiceData","key","exit_node","on_selection_effects","delay","delay_message","EffectData","effect_type","quality","ReqGroupData","group_type","ReqData","operator","AdventureState","atom","default","starting_node","nodes","triggers","required_site_traits","loot_types","band_modifiers","starting_qualities","deep_scan_description","author","NodesSelector","selector","get","NodeSelector","selectorFamily","find","x","set","current","modified","TriggersSelector","TriggerSelector","special_nodes","site_traits","scan_bands","preset_images","grue","signal_lost","trader","EffectTypes","Add","Set","Remove","ValueTypes","raw","random","Effect","props","handleChange","handleDelete","value_type","effect","Object","InputGroup","OverlayTrigger","placement","overlay","Tooltip","style","whiteSpace","FormControl","as","onChange","e","target","keys","map","k","Prepend","Text","low","high","value_type_controls","Append","Button","onClick","allowed_types","current_index","new_type","length","defaultForValueType","variant","EffectBuilder","handleEffectsChanged","handleEffectAdded","handleEffectDeleted","add_effect","effects","Card","Header","title","ListGroup","ListGroupItem","prop","RequirementsBuilder","handleRequirementsChanged","handleRequirementAdded","handleRequirementDeleted","add_req","req","ReqGroup","group","handleReqGroupChanged","handleReqGroupDeleted","SingleReq","requirement","handleReqChanged","handleReqDeleted","Item","ButtonGroup","deleteSubReq","deleted","new_reqs","filter","updateSubReq","old_req","changed_req","border","new_group","new_req","BasicCollapsible","useState","startCollapsed","sectionCollapsed","setSectionCollapsed","Container","Row","Col","className","children","NodeSelectionDropdown","allowNone","allowCustom","rest","useRecoilValue","node","KeyValueList","presetKeys","adventureProp","useRecoilState","adventure","setAdventure","store","newKey","setNewKey","setNewValue","store_keys","Table","size","newstore","remove_key","pk","SimpleList","presetValues","unique","FormGroup","remove_value","AdventureChoice","handleChoiceDeletion","handleChoiceChange","choice","exitNodeSelectValue","setExitNodeSelectValue","Body","Form","muted","added","effect_prop","new_effect","old_effects","new_effects","addEffect","old","old_effect","changed_prop","changed_effect","updateEffects","removed","deleteEffect","old_reqs","AdventureNode","handleNodeDeletion","setNode","current_image","imageInput","useRef","image_name_text","Title","Image","src","width","height","Control","readOnly","File","type","accept","ref","reader","FileReader","onload","uploaded_image","document","createElement","modified_node","result","alert","readAsDataURL","files","display","click","Label","rows","placeholder","parent_id","new_choices","removeChoice","choice_property","new_choice","old_choice","updateChoice","addChoice","AdventureTrigger","handleDeletion","trigger","setTrigger","AdventurePlayer","text","currentNode","setCurrentNode","qualities","setQualities","prevNode","setPrevNode","checkReq","qstore","check_group","req_group","checkChoice","navigateToNode","node_name","apply_effects","next_node","triggerGuard","checkTriggers","includes","push","extractValue","min","max","Math","ceil","floor","effect_list","resulting_qualities","extractedValue","Alert","Img","replace","match","g1","disabled","selectChoice","qname","AdventureEditor","activeTab","setActiveTab","draggedItem","setDraggedItem","regenerate_reqs","req_list","regenerate_effects","importAdventure","jsonData","json","JSON","parse","reindexed_nodes","node_list","regenerate_ids","reindexed_triggers","trigger_list","regenerate_trigger_ids","modified_adventure","adventure_name","scan_band_mods","loot_categories","ImportInput","ExportLink","openTab","toString","getDefaultTab","startingNode","getDefaultStartingNode","playing","setPlaying","toggle_playing","Modal","show","onHide","ButtonToolbar","data_object","version","blob","Blob","stringify","blob_url","URL","createObjectURL","href","download","readAsText","example_adventure","Tab","activeKey","onSelect","Nav","draggable","onDragEnd","onDragStart","start_dragging","onDrop","index_a","index_b","modified_nodes","switch_node","onDragOver","preventDefault","validate_drop","Link","eventKey","Content","Pane","old_index","findIndex","changed_nodes","new_index","delete_node","xl","changed_triggers","delete_trigger","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.668faf8e.chunk.js","sourcesContent":["//Helpers\r\nexport function replaceItemInArray<T>(arr: Array<T>, oldVal : T, newValue : T) {\r\n    const modifed = arr.slice()\r\n    modifed[arr.indexOf(oldVal)] = newValue\r\n    return modifed\r\n}\r\n\r\nexport function updateProp<X>(obj : X, prop_name : string, new_value : any) {\r\n    return { ...obj, [prop_name]: new_value }\r\n}\r\n\r\nexport function convertNumberValue(value : string){\r\n    const as_number = Number(value)\r\n    if(Number.isFinite(as_number) && !Number.isNaN(as_number)){\r\n      return as_number\r\n    }\r\n    return value;\r\n  }","import { atom, selector, selectorFamily, SerializableParam} from 'recoil'\r\nimport {replaceItemInArray} from './Helpers'\r\n\r\n/// Eugh\r\nexport const global_ids : Record<string,number> = {};\r\nexport function unique_id(category : string) {\r\n    category in global_ids ? global_ids[category] += 1 : global_ids[category] = 0\r\n    return `${category} ${global_ids[category]}`\r\n}\r\n\r\n//Data classes\r\nexport class AdventureData {\r\n    name : string;\r\n    starting_node : string;\r\n    nodes : Array<NodeData>;\r\n    triggers : Array<TriggerData>;\r\n    required_site_traits : Array<string>;\r\n    loot_types : Array<string>;\r\n    band_modifiers : Record<string,number>;\r\n    starting_qualities : Record<string,number|string>;\r\n    deep_scan_description : string;\r\n    author : string;\r\n\r\n    constructor() {\r\n        this.name = \"New adventure\"\r\n        this.starting_node = \"\"\r\n        this.nodes = []\r\n        this.triggers = []\r\n        this.required_site_traits = []\r\n        this.loot_types = []\r\n        this.band_modifiers = {}\r\n        this.starting_qualities = {}\r\n        this.deep_scan_description  = \"\"\r\n        this.author = \"Anonymous\"\r\n    }\r\n}\r\n\r\nexport class NodeData {\r\n    id : string;\r\n    name : string;\r\n    description : string;\r\n    choices : Array<ChoiceData>;\r\n    image : string;\r\n    raw_image : string | undefined;\r\n    on_enter_effects : Array<EffectData> | undefined;\r\n    on_exit_effects : Array<EffectData> | undefined;\r\n\r\n    constructor() {\r\n        this.id = unique_id(\"Node\")\r\n        this.name = this.id\r\n        this.description = \"Node description goes here\"\r\n        this.choices = []\r\n        this.image = \"default\"\r\n        this.raw_image = undefined\r\n        this.on_enter_effects = undefined\r\n        this.on_exit_effects = undefined\r\n    }\r\n}\r\n\r\nexport class TriggerData{\r\n    id : string;\r\n    name : string;\r\n    target_node : string | undefined;\r\n    on_trigger_effects : Array<EffectData> | undefined;\r\n    requirements : Array<ReqData | ReqGroupData> | undefined;\r\n    constructor(){\r\n        this.id = unique_id(\"trigger\")\r\n        this.name = \"Trigger\"\r\n        this.target_node = undefined\r\n        this.on_trigger_effects = undefined\r\n        this.requirements = undefined\r\n    }\r\n}\r\n\r\nexport class ChoiceData {\r\n    id : string;\r\n    key : string;\r\n    name : string;\r\n    exit_node : string;\r\n    on_selection_effects : Array<EffectData> | undefined;\r\n    requirements : Array<ReqData | ReqGroupData> | undefined;\r\n    delay : number;\r\n    delay_message : string | undefined;\r\n\r\n    constructor() {\r\n        this.id = unique_id(\"choice\")\r\n        this.key = this.id\r\n        this.name = \"New Choice\"\r\n        this.exit_node = \"FAIL\"\r\n        this.on_selection_effects = undefined\r\n        this.requirements = undefined\r\n        this.delay = 0\r\n        this.delay_message = undefined\r\n    }\r\n}\r\n\r\nexport class EffectData {\r\n    id : string;\r\n    effect_type : string;\r\n    quality : string;\r\n    value : string | number;\r\n    constructor() {\r\n        this.id = unique_id(\"effect\")\r\n        this.effect_type = \"Add\"\r\n        this.quality = \"Quality\"\r\n        this.value = 1\r\n    }\r\n}\r\n\r\nexport class ReqGroupData {\r\n    id : string;\r\n    group_type : string;\r\n    requirements : Array<ReqData | ReqGroupData>;\r\n    constructor() {\r\n        this.id = unique_id(\"req\")\r\n        this.group_type = \"AND\"\r\n        this.requirements = []\r\n    }\r\n}\r\n\r\nexport class ReqData {\r\n    id : string;\r\n    quality : string;\r\n    operator : string;\r\n    value : string | number;\r\n    constructor() {\r\n        this.id = unique_id(\"req\")\r\n        this.quality = \"Quality\"\r\n        this.operator = \"==\"\r\n        this.value = 1\r\n    }\r\n}\r\n\r\nexport const AdventureState = atom({\r\n    key: \"adventure\",\r\n    default: new AdventureData(),\r\n})\r\n\r\nexport const NodesSelector = selector({\r\n    key: \"nodes\",\r\n    get: ({ get }) => {\r\n        const adventure = get(AdventureState)\r\n        return adventure.nodes\r\n    }\r\n})\r\n\r\nexport const NodeSelector = selectorFamily<NodeData,SerializableParam>({\r\n    key: \"single_node\",\r\n    get: (id) => ({ get }) => {\r\n        const adventure = get(AdventureState);\r\n        return adventure.nodes.find(x => x.id === id);\r\n    },\r\n    set: (id) => ({ set, get }, newValue) => {\r\n        const current = get(AdventureState)\r\n        const modified = { ...current, nodes: replaceItemInArray(current.nodes, current.nodes.find(x => x.id === id), newValue) }\r\n        set(AdventureState, modified)\r\n    }\r\n})\r\n\r\nexport const TriggersSelector = selector({\r\n    key: \"triggers\",\r\n    get: ({ get }) => {\r\n        const adventure = get(AdventureState)\r\n        return adventure.triggers\r\n    }\r\n})\r\n\r\nexport const TriggerSelector = selectorFamily<TriggerData,SerializableParam>({\r\n    key: \"single_trigger\",\r\n    get: (id) => ({ get }) => {\r\n        const adventure = get(AdventureState);\r\n        return adventure.triggers.find(x => x.id === id);\r\n    },\r\n    set: (id) => ({ set, get }, newValue) => {\r\n        const current = get(AdventureState)\r\n        const modified = { ...current, triggers: replaceItemInArray(current.triggers, current.triggers.find(x => x.id === id), newValue) }\r\n        set(AdventureState, modified)\r\n    }\r\n})\r\n","import signal_lost from './images/signal_lost.png'\r\nimport grue from './images/grue.png'\r\nimport trader from './images/trade.png'\r\nimport default_image from './images/default.png'\r\n\r\nexport const special_nodes = [\"FAIL\",\"FAIL_DEATH\",\"WIN\",\"GO_BACK\"]\r\n\r\nexport const site_traits = [\"ruins\",\"technology present\",\"space station\",\"alien\",\"habitable\",\"spaceship\",\"in space\",\"on surface\"]\r\n\r\nexport const scan_bands = [\"Plasma absorption band\",\"Hydrocarbons/Molecular oxygen\",\"Narrow-band radio waves\",\"Exotic Radiation\",\"Increased Density\"]\r\n\r\nexport const loot_types = [\"maint\",\"drugs\",\"trade_contract\",\"weapons\",\"pets\",\"unique\",\"cash\",\"materials\"]\r\n\r\nexport const json_version = 1\r\n\r\nexport const preset_images = {\r\n    default : default_image,\r\n    grue : grue,\r\n    signal_lost : signal_lost,\r\n    trader : trader\r\n}\r\n\r\nexport const EffectTypes = {\r\n    Add : \"Add\",\r\n    Set : \"Set\",\r\n    Remove : \"Remove\",\r\n}\r\n\r\nexport const ValueTypes = {\r\n    raw : \"raw\",\r\n    random : \"random\"\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABkBAMAAAAxqGI4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAGUExURQAAAP8AABv/jSIAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAC7SURBVGje7ZdBDsJADAPjH2T//1lAgNrlxMVDiTynnjKyu6m6FUIIIfyA9aCtCq0XhMNo0bMoWRt7j3Za7rOPJ5fkNNj3Vk5zbVGOtiCJra9trFHSm6TdEvkka46kR0i2uX8t2bZRri+kPpax3FCSdjtESdwOpK0a05agtuwOJIiAIEUEKSKIGMmQtooIIiKIprQFSSqS71FHcjVJCD6gHzvmsuiOogVcSSO5ngQ5XcyeMDegEEIIYTBVNw34EbwIRO7ZAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABkBAMAAAAxqGI4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJUExURQAAAP8AAP8hAFWgYwIAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABbSURBVGje7dPBDYAgEEVBtAKXCmT7L1LucgRi4kwDL/nZLQAAAAAAAPxQXOsbR8SGSG3rKy0zB+m5G/ZG3q/G5A3PQeTMDRNGjeU312+htuWRjLbheQAA+KxSHrpcA/wdxXfnAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABkBAMAAAAxqGI4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAGUExURQAAAP8AABv/jSIAAAAJcEhZcwAADsIAAA7CARUoSoAAAADZSURBVGje7ZNRFoQgCADhBnD/y66AWenbLb935vXK1BwhEQAAAAAAAACAv0LdXLzR2tVsPepuItWZ9Gb0xgxzvww+k7Prk978LvHo1rjvSTQWb4/cYry1q9bLjnMvdWvzwhMRy4bEhqSamb5cZpHUhD66Jck0D4m8kNTIjqTy3CXxK9QsM9hDXCXqcyrfae6SfgZK4qfED6+67UnWf/IkcZmjfCPR83SlREeuJkk/XVUuW5Lc81QnkUG9FYMf5XSZuxPJWD4e9lNSIehUqAAAAAAAAAAAAFdEPmbgEwxTT+ziAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABkBAMAAAAxqGI4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJUExURQAAAP/YAH8zAHXkPMkAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAF8SURBVGje7dkLbsMgDAZg8AnwDbzd/5BTk3aD+A9Ngp2ChvuSIuoP2W4TtWHGjBkzZsyYMWxE5uSYnpfwEuKa3il7vnmxz643b4rsVJ6+TbLnm9fdbUb05i2RvbGJ+pDIpaZUxsYO+X37DQgqtkYoCBkjeoRHQFCxNSLLbTgk6s9OG4KKvYOQM0KhfwQVW3/X34LI6945Qs4IKvZ6ltmsegj07xFUbI1I9jBC9HXFAAgs9j5CjggFc+R5McZmCCp2BbnWlGOIDITkxX4aWef/8l9pCuyoQigMhGTFjtaI1BAuVhXPPSPkhsBicxUhayTlq/pGYLHryPmmICQqRFwRNkfoIHK2KbCjCqFgjzBCslNME/J6yZG0rioPnWyKHEKEi0guyFeJcBOyFi++Rc79mgrHpkCWznMzosZGI6HFwGMDkNBg4LFhgKBLsaMBx6apNgeQ5IHwHQhKGM0RMDYbxOaPhu3YuCB7qCvCn0DSRCoRP4LwqMiMGb1GCD/OSlYEGoUISwAAAABJRU5ErkJggg==\"","import { Button, Card, ListGroup, FormControl, ListGroupItem, InputGroup, OverlayTrigger, Tooltip } from 'react-bootstrap'\r\nimport { EffectData } from '../State'\r\nimport { convertNumberValue} from '../Helpers'\r\nimport { ValueTypes,EffectTypes } from '../ExternalDefines'\r\n\r\nfunction Effect(props) {\r\n    const handleChange = props.handleChange\r\n    const handleDelete = props.handleDelete\r\n    const value_type = props.effect.value === Object(props.effect.value) ? props.effect.value[\"value_type\"] : \"raw\"\r\n\r\n    const defaultForValueType = value_type => {\r\n        switch(value_type){\r\n            case ValueTypes.raw:\r\n                return 0\r\n            case ValueTypes.random:\r\n               return { \"value_type\": ValueTypes.random, \"low\": 0, \"high\": 0 }\r\n            default:\r\n                return 0\r\n        }\r\n    }\r\n\r\n    const toggleSpecialValueType = e => {\r\n        const allowed_types = Object.keys(ValueTypes).map(k => ValueTypes[k])\r\n        const current_index = allowed_types.indexOf(value_type)\r\n        const new_type = allowed_types[(current_index+1)%allowed_types.length]\r\n        handleChange(\"value\",defaultForValueType(new_type))\r\n    }\r\n\r\n    const value_type_controls = value_type => {\r\n        switch (value_type) {\r\n            case \"random\":\r\n                return (\r\n                    <>\r\n                        <InputGroup.Text>Random</InputGroup.Text>\r\n                        <FormControl value={props.effect.value.low} onChange={e => handleChange(\"value\", {...props.effect.value,low:convertNumberValue(e.target.value)})} />\r\n                        <InputGroup.Text>To</InputGroup.Text>\r\n                        <FormControl value={props.effect.value.high} onChange={e => handleChange(\"value\",{...props.effect.value,high:convertNumberValue(e.target.value)})} />\r\n                    </>\r\n                )\r\n            case \"raw\":\r\n                return (<FormControl value={props.effect.value} onChange={e => handleChange(\"value\", convertNumberValue(e.target.value))} />)\r\n            default:\r\n                return (<InputGroup.Text>Unsupported</InputGroup.Text>)\r\n        }\r\n    }\r\n\r\n    const EffectReadme = \"Add - Adds/Substracts value from current quality value \\n\\n Set - Sets quality to value \\n\\n Remove - resets quality completely\"\r\n\r\n    return (\r\n        \r\n        <InputGroup>\r\n            <OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"sorry_accessibilty\" style={{whiteSpace:\"pre-wrap\"}}>{EffectReadme}</Tooltip>}>\r\n            <FormControl as=\"select\" value={props.effect.effect_type} onChange={e => handleChange(\"effect_type\", e.target.value)}>\r\n                {Object.keys(EffectTypes).map(k => (<option key={k}>{EffectTypes[k]}</option>))}\r\n            </FormControl>\r\n            </OverlayTrigger>\r\n            <InputGroup.Prepend>\r\n                <InputGroup.Text>Quality</InputGroup.Text>\r\n            </InputGroup.Prepend>\r\n            <FormControl value={props.effect.quality} onChange={e => handleChange(\"quality\", e.target.value)} />\r\n            <InputGroup.Prepend>\r\n                <InputGroup.Text>Value</InputGroup.Text>\r\n            </InputGroup.Prepend>\r\n            {value_type_controls(value_type)}\r\n\r\n            <InputGroup.Append>\r\n                <Button onClick={toggleSpecialValueType}>*</Button>\r\n                <Button variant=\"danger\" onClick={handleDelete}>Delete</Button>\r\n            </InputGroup.Append>\r\n        </InputGroup>)\r\n}\r\n\r\nexport function EffectBuilder(props) {\r\n    const handleEffectsChanged = props.handleEffectsChanged\r\n    const handleEffectAdded = props.handleEffectAdded\r\n    const handleEffectDeleted = props.handleEffectDeleted\r\n    function add_effect() {\r\n        handleEffectAdded(new EffectData())\r\n    }\r\n\r\n    if (!props.effects)\r\n        return (\r\n            <InputGroup>\r\n                <InputGroup.Prepend>\r\n                    <InputGroup.Text>\r\n                        {props.title}\r\n                    </InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <InputGroup.Append>\r\n                    <Button onClick={add_effect}>Create Effect</Button>\r\n                </InputGroup.Append>\r\n            </InputGroup>\r\n        )\r\n    return (\r\n        <>\r\n            <Card.Header>{props.title}</Card.Header>\r\n            <ListGroup>\r\n                {props.effects.map(effect => (\r\n                    <ListGroupItem key={effect.id}>\r\n                        <Effect\r\n                            effect={effect}\r\n                            handleChange={(prop, value) => handleEffectsChanged(effect, prop, value)}\r\n                            handleDelete={(prop, value) => handleEffectDeleted(effect, prop, value)} />\r\n                    </ListGroupItem>))}\r\n                <ListGroupItem>\r\n                    <Button onClick={add_effect}>Add New Effect</Button>\r\n                </ListGroupItem>\r\n            </ListGroup>\r\n        </>)\r\n}","import {ReqGroupData,ReqData} from '../State'\r\nimport {InputGroup,Button,Card,ListGroup,FormControl,ButtonGroup} from 'react-bootstrap'\r\nimport {convertNumberValue} from '../Helpers'\r\n\r\nexport function RequirementsBuilder(props) {\r\n    const handleRequirementsChanged = props.handleRequirementsChanged\r\n    const handleRequirementAdded = props.handleRequirementAdded\r\n    const handleRequirementDeleted = props.handleRequirementDeleted\r\n  \r\n    function add_req_group() {\r\n      handleRequirementAdded(new ReqGroupData())\r\n    }\r\n  \r\n    function add_req() {\r\n      handleRequirementAdded(new ReqData())\r\n    }\r\n  \r\n    if (!props.requirements) {\r\n      return (\r\n      <InputGroup>\r\n        <InputGroup.Prepend>\r\n          <InputGroup.Text>\r\n            {props.title}\r\n          </InputGroup.Text>\r\n        </InputGroup.Prepend>\r\n        <InputGroup.Append>\r\n          <Button onClick={add_req}>Add Requirements</Button>\r\n        </InputGroup.Append>\r\n      </InputGroup>)\r\n    }\r\n    return (\r\n      <>\r\n      <Card.Header>{props.title}</Card.Header>\r\n      <ListGroup>\r\n        {props.requirements.map(req => {\r\n          return req.requirements ? (\r\n            <ReqGroup\r\n              key={req.id} \r\n              group={req}\r\n              handleReqGroupChanged={(prop_name,new_value) => handleRequirementsChanged(req, prop_name, new_value)}\r\n              handleReqGroupDeleted={() => handleRequirementDeleted(req)}\r\n              />) :\r\n            (<SingleReq \r\n              key={req.id}\r\n              requirement={req}\r\n              handleReqChanged={(prop_name, new_value) => handleRequirementsChanged(req, prop_name, new_value)}\r\n              handleReqDeleted={() => handleRequirementDeleted(req)}\r\n            />)\r\n        })}\r\n        <ListGroup.Item>\r\n          <ButtonGroup>\r\n            <Button onClick={add_req_group}>Add Req Group</Button>\r\n            <Button onClick={add_req}>Add Single Req</Button>\r\n          </ButtonGroup>\r\n        </ListGroup.Item>\r\n      </ListGroup></>)\r\n  }\r\n\r\n\r\n  \r\n  function SingleReq(props) {\r\n    const handleReqDeleted = props.handleReqDeleted\r\n    const handleReqChanged = props.handleReqChanged\r\n    return (\r\n      <InputGroup>\r\n        <InputGroup.Prepend>\r\n          <InputGroup.Text>Quality</InputGroup.Text>\r\n        </InputGroup.Prepend>\r\n        <FormControl value={props.requirement.quality} onChange={e => handleReqChanged(\"quality\", e.target.value)} />\r\n        <FormControl as=\"select\" value={props.requirement.operator} onChange={e => handleReqChanged(\"operator\", e.target.value)}>\r\n          <option>==</option>\r\n          <option>!=</option>\r\n          <option>&gt;</option>\r\n          <option>&lt;</option>\r\n          <option>&gt;=</option>\r\n          <option>&lt;=</option>\r\n        </FormControl>\r\n        <FormControl value={props.requirement.value} onChange={e => handleReqChanged(\"value\", convertNumberValue(e.target.value))}/>\r\n        <InputGroup.Append>\r\n          <Button variant=\"danger\" onClick={() => handleReqDeleted(props.requirement)}>Delete</Button>\r\n        </InputGroup.Append>\r\n      </InputGroup>\r\n    )\r\n  }\r\n  \r\n  function ReqGroup(props) {\r\n    const handleReqGroupDeleted = props.handleReqGroupDeleted\r\n    const handleReqGroupChanged = props.handleReqGroupChanged\r\n\r\n    const addSubGroup = () => {\r\n      const new_group = new ReqGroupData()\r\n      const new_reqs = [...props.group.requirements, new_group]\r\n      handleReqGroupChanged(\"requirements\",new_reqs)\r\n    }\r\n  \r\n    const addSubReq = () => {\r\n      const new_req = new ReqData()\r\n      const new_reqs = [...props.group.requirements, new_req]\r\n      handleReqGroupChanged(\"requirements\",new_reqs)\r\n    }\r\n  \r\n    const deleteSubReq = (deleted) =>{\r\n      const new_reqs = props.group.requirements.filter(x => x !== deleted)\r\n      handleReqGroupChanged(\"requirements\",new_reqs)\r\n    }\r\n  \r\n    const updateSubReq = (old_req,prop,new_value) =>{\r\n      const changed_req = {...old_req, [prop]:new_value}\r\n      const new_reqs = props.group.requirements.slice()\r\n      new_reqs[props.group.requirements.indexOf(old_req)] = changed_req\r\n      handleReqGroupChanged(\"requirements\",new_reqs)\r\n    }\r\n  \r\n    return (\r\n      <Card border=\"dark\">\r\n        <Card.Header>\r\n          <InputGroup>\r\n            <FormControl as=\"select\" value={props.group.group_type} onChange={e => handleReqGroupChanged(\"group_type\",e.target.value)}> \r\n              <option>AND</option>\r\n              <option>OR</option>\r\n            </FormControl>\r\n            <InputGroup.Text>Group</InputGroup.Text>\r\n            <InputGroup.Append>\r\n              <Button variant=\"danger\" onClick={() => handleReqGroupDeleted(props.group)} >Delete</Button>\r\n            </InputGroup.Append>\r\n          </InputGroup>\r\n        </Card.Header>\r\n        <ListGroup>\r\n          <ListGroup.Item>\r\n            {props.group.requirements.map(req =>{\r\n              return req.requirements ? \r\n                (<ReqGroup\r\n                  key={req.id}\r\n                  group={req}\r\n                  handleReqGroupDeleted={deleteSubReq}\r\n                  handleReqGroupChanged={(prop,new_value) => updateSubReq(req,prop,new_value)}\r\n                />) : \r\n                (<SingleReq\r\n                  key={req.id} \r\n                  requirement={req}\r\n                  handleReqDeleted={deleteSubReq}\r\n                  handleReqChanged={(prop,new_value) => updateSubReq(req,prop,new_value)}\r\n                />)\r\n            })}\r\n          </ListGroup.Item>\r\n          <ListGroup.Item>\r\n            <ButtonGroup>\r\n              <Button onClick={addSubGroup}>Add Req Group</Button>\r\n              <Button onClick={addSubReq}>Add Single Req</Button>\r\n            </ButtonGroup>\r\n          </ListGroup.Item>\r\n        </ListGroup>\r\n      </Card>\r\n    )\r\n  }","import React, { useState } from 'react'\r\nimport { Card, FormControl, Row, Container, Col, InputGroup, Button, FormGroup, Table } from 'react-bootstrap'\r\nimport { useRecoilState, useRecoilValue } from 'recoil'\r\nimport { AdventureData, AdventureState, NodesSelector } from '../State'\r\nimport { special_nodes } from '../ExternalDefines'\r\nimport { convertNumberValue, updateProp } from '../Helpers'\r\n\r\nexport function BasicCollapsible(props) {\r\n    const [sectionCollapsed, setSectionCollapsed] = useState(props.startCollapsed)\r\n    return (\r\n        <Container>\r\n            <Row>\r\n                <Col>\r\n                    <Card.Header onClick={() => setSectionCollapsed(!sectionCollapsed)}><Container><Row><Col className=\"flex-grow\">{props.title}</Col><Col className=\"flex-grow-0\">{sectionCollapsed ? \"▼\" : \"▲\"}</Col></Row></Container></Card.Header>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col>\r\n                    <Container className={sectionCollapsed ? \"d-none\" : \"\"}>\r\n                        <Row>\r\n                            <Col>\r\n                                {props.children}\r\n                            </Col>\r\n                        </Row>\r\n                    </Container>\r\n                </Col>\r\n            </Row>\r\n        </Container>)\r\n}\r\n\r\n\r\nexport function NodeSelectionDropdown(props) {\r\n    const {\r\n        allowNone = false,\r\n        allowCustom = true,\r\n        ...rest\r\n    } = props;\r\n\r\n    const nodes = useRecoilValue(NodesSelector)\r\n\r\n    return (<FormControl {...rest} as=\"select\">\r\n        {nodes.map(node => (<option key={node.id}>{node.name}</option>))}\r\n        {!!allowNone && (<option value=\"\">None</option>)}\r\n        {!!allowCustom && (special_nodes.map(name => (<option key={name}>{name}</option>)))}\r\n    </FormControl>)\r\n}\r\n\r\nexport function KeyValueList(props) {\r\n    const {\r\n        presetKeys,\r\n        adventureProp,\r\n    } = props;\r\n\r\n    const [adventure, setAdventure] = useRecoilState(AdventureState)\r\n\r\n    const store = adventure[adventureProp]\r\n    const [newKey, setNewKey] = useState(presetKeys ? presetKeys[0] : \"\")\r\n    const [newValue, setNewValue] = useState<number | string>(\"\")\r\n    const store_keys = Object.keys(store)\r\n\r\n    const add_new_kv_pair = () => {\r\n        const newstore = { ...store, [newKey]: newValue }\r\n        setAdventure(updateProp(adventure, adventureProp, newstore))\r\n    }\r\n\r\n    const remove_key = key => {\r\n        const newstore = { ...store }\r\n        delete newstore[key]\r\n        setAdventure(updateProp(adventure, adventureProp, newstore))\r\n    }\r\n    return (<Table size=\"sm\">\r\n        <thead>\r\n            <tr>\r\n                <th>Quality</th>\r\n                <th>Value</th>\r\n                <th></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {store_keys.map(key => (\r\n                <tr key={key}>\r\n                    <td>{key}</td>\r\n                    <td>{store[key]}</td>\r\n                    <td><Button variant=\"danger\" onClick={() => remove_key(key)}>Delete</Button></td>\r\n                </tr>\r\n            ))}\r\n            <tr>\r\n                <td>{presetKeys ? (<FormControl as=\"select\" value={newKey} onChange={e => setNewKey(e.target.value)} >{presetKeys.map(pk => (<option key={pk}>{pk}</option>))}</FormControl>) : (<FormControl value={newKey} onChange={e => setNewKey(e.target.value)}></FormControl>)}</td>\r\n                <td><FormControl value={newValue} onChange={e => setNewValue(convertNumberValue(e.target.value))}></FormControl></td>\r\n                <td><Button onClick={add_new_kv_pair}>Add</Button></td>\r\n            </tr>\r\n        </tbody>\r\n    </Table>)\r\n}\r\n\r\nexport function SimpleList(props) {\r\n    const {\r\n        presetValues,\r\n        adventureProp,\r\n        unique = true\r\n    } = props;\r\n\r\n    const [adventure, setAdventure] = useRecoilState(AdventureState)\r\n    const store = adventure[adventureProp] || [] \r\n    const [newValue, setNewValue] = useState(presetValues ? presetValues[0] : \"\")\r\n\r\n    const add_new_value = () => {\r\n        if (unique && store.indexOf(newValue) >= 0)\r\n            return\r\n        const newstore = [...store, newValue]\r\n        setAdventure(updateProp(adventure, adventureProp, newstore))\r\n    }\r\n\r\n    const remove_value = key => {\r\n        const newstore = store.filter(x => x !== key)\r\n        setAdventure(updateProp(adventure, adventureProp, newstore))\r\n    }\r\n\r\n    return (<FormGroup>\r\n        {store.map(key => (\r\n            <InputGroup key={key}>\r\n                <InputGroup.Text>{key}</InputGroup.Text>\r\n                <InputGroup.Append>\r\n                    <Button variant=\"danger\" onClick={() => remove_value(key)}>X</Button>\r\n                </InputGroup.Append>\r\n            </InputGroup>\r\n        ))}\r\n        <InputGroup>\r\n            <InputGroup.Prepend>\r\n                {presetValues ? (<FormControl as=\"select\" value={newValue} onChange={e => setNewValue(convertNumberValue(e.target.value))} >{presetValues.map(pk => (<option key={pk}>{pk}</option>))}</FormControl>) : (<FormControl value={newValue} onChange={e => setNewValue(convertNumberValue(e.target.value))}></FormControl>)}\r\n            </InputGroup.Prepend>\r\n            <InputGroup.Append>\r\n                <Button onClick={add_new_value}>Add</Button>\r\n            </InputGroup.Append>\r\n        </InputGroup>\r\n    </FormGroup>)\r\n}","import React,{useState} from 'react'\r\nimport {Button, Card, InputGroup, FormControl,Form } from 'react-bootstrap'\r\nimport {EffectBuilder} from './EffectBuilder'\r\nimport {RequirementsBuilder} from './RequirementsBuilder'\r\nimport {convertNumberValue} from '../Helpers'\r\nimport { NodeSelectionDropdown } from './Utility'\r\n\r\nexport function AdventureChoice(props) {\r\n    const handleChoiceDeletion = props.handleChoiceDeletion\r\n    const handleChoiceChange = props.handleChoiceChange\r\n  \r\n  \r\n    const addEffect = (effect_prop, new_effect) => {\r\n      const old_effects = props.choice[effect_prop]\r\n      const new_effects = old_effects !== undefined ? [...old_effects, new_effect] : [new_effect]\r\n      handleChoiceChange(effect_prop, new_effects)\r\n    }\r\n    const updateEffects = (effect_prop, old_effect, changed_prop, new_value) => {\r\n      const changed_effect = { ...old_effect, [changed_prop]: new_value }\r\n      const new_effects = props.choice[effect_prop].slice()\r\n      new_effects[props.choice[effect_prop].indexOf(old_effect)] = changed_effect\r\n      handleChoiceChange(effect_prop, new_effects)\r\n    }\r\n    const deleteEffect = (effect_prop, removed) => {\r\n      const new_effects = props.choice[effect_prop].filter(x => x !== removed)\r\n      handleChoiceChange(effect_prop, new_effects.length ? new_effects : undefined)\r\n    }\r\n  \r\n  \r\n    const addRequirement = added => {\r\n      const old_reqs = props.choice.requirements\r\n      const new_reqs = old_reqs !== undefined ? [...old_reqs, added] : [added]\r\n      handleChoiceChange(\"requirements\", new_reqs)\r\n    }\r\n  \r\n    const deleteRequirement = removed => {\r\n      const new_reqs = props.choice.requirements.filter(x => x !== removed)\r\n      handleChoiceChange(\"requirements\", new_reqs.length ? new_reqs : undefined)\r\n    }\r\n  \r\n    const updateRequirements = (old_req, changed_prop, new_value) => {\r\n      const changed_req = { ...old_req, [changed_prop]: new_value }\r\n      const new_reqs = props.choice.requirements.slice()\r\n      new_reqs[props.choice.requirements.indexOf(old_req)] = changed_req\r\n      handleChoiceChange(\"requirements\", new_reqs)\r\n    }\r\n    const [exitNodeSelectValue, setExitNodeSelectValue] = useState(props.choice.exit_node);\r\n  \r\n    const changeExitNode = (e) => {\r\n      setExitNodeSelectValue(e.target.value)\r\n      handleChoiceChange(\"exit_node\", e.target.value)\r\n    }\r\n  \r\n  \r\n    return (\r\n      <Card>\r\n        <Card.Body>\r\n          <Form.Text muted>Choice text visible to the player.</Form.Text>\r\n          <InputGroup>\r\n            <InputGroup.Prepend>\r\n              <InputGroup.Text>Choice</InputGroup.Text>\r\n            </InputGroup.Prepend>\r\n            <FormControl value={props.choice.name} onChange={(e) => handleChoiceChange(\"name\", e.target.value)} />\r\n            <InputGroup.Append>\r\n              <Button variant=\"danger\" onClick={handleChoiceDeletion}>Delete</Button>\r\n            </InputGroup.Append>\r\n          </InputGroup>\r\n          <Form.Text muted>The node navigated to by choosing this choice.</Form.Text>\r\n          <InputGroup>\r\n            <InputGroup.Prepend>\r\n              <InputGroup.Text>Exit Node</InputGroup.Text>\r\n            </InputGroup.Prepend>\r\n            <NodeSelectionDropdown value={exitNodeSelectValue} onChange={changeExitNode} allowNone={false}/>\r\n          </InputGroup>\r\n          <Form.Text muted>Delay between selecting the choice and entering exit node.</Form.Text>\r\n          <InputGroup>\r\n            <InputGroup.Prepend>\r\n              <InputGroup.Text>Delay(ds)</InputGroup.Text>\r\n            </InputGroup.Prepend>\r\n            <FormControl value={props.choice.delay} onChange={(e) => handleChoiceChange(\"delay\", convertNumberValue(e.target.value))} />\r\n            <InputGroup.Text>Message</InputGroup.Text>\r\n            <FormControl value={props.choice.delay_message} onChange={(e) => handleChoiceChange(\"delay_message\", e.target.value)} />\r\n          </InputGroup>\r\n          <Form.Text muted>Quality changes that happen on selecting this choice. (Before navigating to exit node)</Form.Text>\r\n          <EffectBuilder\r\n              title=\"Selection Effects\"\r\n              effects={props.choice.on_selection_effects}\r\n              handleEffectAdded={added => addEffect(\"on_selection_effects\", added)}\r\n              handleEffectsChanged={(old, prop, new_value) => updateEffects(\"on_selection_effects\", old, prop, new_value)}\r\n              handleEffectDeleted={deleted => deleteEffect(\"on_selection_effects\", deleted)}/>\r\n          <Form.Text muted>Qualities required for this choice to be availible. Empty set means it's always viable.</Form.Text>\r\n          <RequirementsBuilder\r\n            title=\"Requirements\"\r\n            requirements={props.choice.requirements}\r\n            handleRequirementAdded={addRequirement}\r\n            handleRequirementDeleted={deleteRequirement}\r\n            handleRequirementsChanged={updateRequirements}\r\n          />\r\n        </Card.Body>\r\n      </Card>)\r\n  }","import React, { useRef } from 'react';\r\nimport { Button, Card,Image, FormControl, FormGroup, Form, InputGroup } from 'react-bootstrap'\r\nimport { useRecoilState } from 'recoil'\r\nimport { updateProp } from '../Helpers'\r\nimport { NodeSelector, ChoiceData } from '../State'\r\nimport { AdventureChoice } from './AdventureChoice'\r\nimport { EffectBuilder } from './EffectBuilder'\r\nimport {preset_images} from '../ExternalDefines'\r\n\r\n\r\nexport function AdventureNode(props) {\r\n    const handleNodeDeletion = props.handleNodeDeletion\r\n\r\n    const [node, setNode] = useRecoilState(NodeSelector(props.node.id))\r\n\r\n    const update_node_name = (e) => {\r\n        const modified_node = updateProp(node, \"name\", e.target.value)\r\n        setNode(modified_node)\r\n    }\r\n\r\n    const addChoice = (new_choice) => {\r\n        const new_choices = [...props.node.choices, new_choice]\r\n        setNode(updateProp(node, \"choices\", new_choices))\r\n    }\r\n\r\n    const removeChoice = (removed) => {\r\n        const new_choices = props.node.choices.filter(x => x !== removed)\r\n        setNode(updateProp(node, \"choices\", new_choices))\r\n    }\r\n    const updateChoice = (old_choice, new_choice) => {\r\n        const new_choices = props.node.choices.slice()\r\n        new_choices[props.node.choices.indexOf(old_choice)] = new_choice\r\n        setNode(updateProp(node, \"choices\", new_choices))\r\n    }\r\n\r\n    const addEffect = (effect_prop, new_effect) => {\r\n        const old_effects = props.node[effect_prop]\r\n        const new_effects = old_effects !== undefined ? [...old_effects, new_effect] : [new_effect]\r\n        setNode(updateProp(node, effect_prop, new_effects))\r\n    }\r\n\r\n    const updateEffects = (effect_prop, old_effect, changed_prop, new_value) => {\r\n        const changed_effect = { ...old_effect, [changed_prop]: new_value }\r\n        const new_effects = props.node[effect_prop].slice()\r\n        new_effects[props.node[effect_prop].indexOf(old_effect)] = changed_effect\r\n        setNode(updateProp(node, effect_prop, new_effects))\r\n    }\r\n\r\n    const deleteEffect = (effect_prop, removed) => {\r\n        const new_effects = props.node[effect_prop].filter(x => x !== removed)\r\n        setNode(updateProp(node, effect_prop, new_effects.length ? new_effects : undefined))\r\n    }\r\n\r\n    const current_image = node.raw_image ? node.raw_image : preset_images[node.image]\r\n    const imageInput = useRef<HTMLInputElement>()\r\n    const try_uploading_image = () => {\r\n        imageInput.current.click() //god why\r\n    }\r\n\r\n    const setUploadedImage = (e) => {\r\n        var reader = new FileReader()\r\n        reader.onload = (e) => {\r\n            var uploaded_image = document.createElement('img');\r\n            uploaded_image.onload = () =>{\r\n                if(uploaded_image.width !== 200 || uploaded_image.height !== 100){\r\n                    alert(`Adventure images need to be be 200x100 pngs.`)\r\n                    return\r\n                }\r\n                const modified_node = {...node,\r\n                    raw_image:e.target.result as string,\r\n                    image:null\r\n                }\r\n                setNode(modified_node)\r\n            }\r\n            uploaded_image.src = e.target.result as string\r\n        }\r\n        reader.readAsDataURL(e.target.files[0])\r\n    }\r\n\r\n    const reset_image = () => {\r\n        const modified_node = {...node,\r\n            raw_image:undefined,\r\n            image:\"default\"\r\n        }\r\n        setNode(modified_node)\r\n    }\r\n\r\n    const update_image = e => {\r\n        setNode(updateProp(node,\"image\",e.target.value))\r\n    }\r\n\r\n    const image_name_text = node.raw_image ? \"custom image data\" : node.image\r\n    return (\r\n        <>\r\n                    <Card>\r\n                        <Card.Body>\r\n                            <Card.Title>{node.name} <Button variant=\"danger\" onClick={handleNodeDeletion}>Delete</Button></Card.Title>\r\n                            <Image src={current_image} width=\"400px\" height=\"200px\"/>\r\n                            <InputGroup>\r\n                                <InputGroup.Prepend>\r\n                                    <InputGroup.Text>Image</InputGroup.Text>\r\n                                </InputGroup.Prepend>\r\n                                <Form.Control as=\"select\" value={image_name_text} readOnly={node.raw_image !== undefined} onChange={update_image}>\r\n                                    {Object.keys(preset_images).map(k => (<option key={k}>{k}</option>))}\r\n                                    </Form.Control>\r\n                                <Form.File type='file' accept=\"image/png\" ref={imageInput} onChange={setUploadedImage} style={{display:\"none\"}}/>\r\n                                <InputGroup.Append>\r\n                                    <Button onClick={try_uploading_image}>Custom</Button>\r\n                                    <Button onClick={reset_image}>Reset</Button>\r\n                                </InputGroup.Append>\r\n                            </InputGroup>\r\n                            <FormGroup>\r\n                                <Form.Label>Node ID</Form.Label>\r\n                                <Form.Text muted>Node unique ID, this is not visible to the player</Form.Text>\r\n                                <FormControl value={node.name} onChange={update_node_name} />\r\n                            </FormGroup>\r\n                            <FormGroup>\r\n                                <Form.Label>Description</Form.Label>\r\n                                <Form.Text muted>Text shown to the player for this node. You can use $$SITE_NAME to insert exploration site name in the text. Use $$QualityName to place current quality value in text.</Form.Text>\r\n                                <FormControl as=\"textarea\" rows={5} placeholder=\"Describe whatever here.\" value={node.description} onChange={(e) => setNode(updateProp(node, \"description\", e.target.value))} />\r\n                            </FormGroup>\r\n                            <Form.Text muted>Quality changes that happen when node is entered by any means.</Form.Text>\r\n                            <EffectBuilder\r\n                                title=\"On Enter Effects\"\r\n                                effects={node.on_enter_effects}\r\n                                handleEffectAdded={added => addEffect(\"on_enter_effects\", added)}\r\n                                handleEffectsChanged={(old, prop, new_value) => updateEffects(\"on_enter_effects\", old, prop, new_value)}\r\n                                handleEffectDeleted={deleted => deleteEffect(\"on_enter_effects\", deleted)} />\r\n                            <Form.Text muted>Quality changes that happen when node is exited by any means.</Form.Text>\r\n                            <EffectBuilder\r\n                                title=\"On Exit Effects\"\r\n                                effects={node.on_exit_effects}\r\n                                parent_id={node.id}\r\n                                handleEffectAdded={added => addEffect(\"on_exit_effects\", added)}\r\n                                handleEffectsChanged={(old, prop, new_value) => updateEffects(\"on_exit_effects\", old, prop, new_value)}\r\n                                handleEffectDeleted={deleted => deleteEffect(\"on_exit_effects\", deleted)} />\r\n                            <Card.Header>Choices</Card.Header>\r\n                                {node.choices.map(choice => (\r\n                                        <AdventureChoice\r\n                                            key={choice.id}\r\n                                            choice={choice}\r\n                                            handleChoiceDeletion={() => removeChoice(choice)}\r\n                                            handleChoiceChange={(choice_property, new_value) => {\r\n                                                const new_choice = { ...choice, [choice_property]: new_value }\r\n                                                updateChoice(choice, new_choice)\r\n                                            }}\r\n                                        />))}\r\n                                <Button onClick={() => addChoice(new ChoiceData())}>Add Choice</Button>\r\n                        </Card.Body>\r\n                    </Card>\r\n            </>\r\n    )\r\n}","import React from 'react';\r\nimport { Button, Card, FormControl, FormGroup, Form } from 'react-bootstrap'\r\nimport { useRecoilState } from 'recoil'\r\nimport { updateProp } from '../Helpers'\r\nimport { TriggerSelector } from '../State'\r\nimport { RequirementsBuilder } from './RequirementsBuilder'\r\nimport { EffectBuilder } from './EffectBuilder'\r\nimport {NodeSelectionDropdown} from './Utility'\r\n\r\n\r\nexport function AdventureTrigger(props) {\r\n    const handleDeletion = props.handleDeletion\r\n\r\n    const [trigger, setTrigger] = useRecoilState(TriggerSelector(props.trigger.id))\r\n\r\n    const update_trigger_name = (e) => {\r\n        setTrigger(updateProp(trigger, \"name\", e.target.value))\r\n    }\r\n\r\n    const update_trigger_target_node = (e) => {\r\n        setTrigger(updateProp(trigger, \"target_node\", e.target.value))\r\n    }\r\n\r\n    const addEffect = (effect_prop, new_effect) => {\r\n        const old_effects = props.trigger[effect_prop]\r\n        const new_effects = old_effects !== undefined ? [...old_effects, new_effect] : [new_effect]\r\n        setTrigger(updateProp(trigger, effect_prop, new_effects))\r\n    }\r\n\r\n    const updateEffects = (effect_prop, old_effect, changed_prop, new_value) => {\r\n        const changed_effect = { ...old_effect, [changed_prop]: new_value }\r\n        const new_effects = props.trigger[effect_prop].slice()\r\n        new_effects[props.trigger[effect_prop].indexOf(old_effect)] = changed_effect\r\n        setTrigger(updateProp(trigger, effect_prop, new_effects))\r\n    }\r\n\r\n    const deleteEffect = (effect_prop, removed) => {\r\n        const new_effects = props.trigger[effect_prop].filter(x => x !== removed)\r\n        setTrigger(updateProp(trigger, effect_prop, new_effects.length ? new_effects : undefined))\r\n    }\r\n\r\n    const addRequirement = added => {\r\n        const old_reqs = props.trigger.requirements\r\n        const new_reqs = old_reqs !== undefined ? [...old_reqs, added] : [added]\r\n        setTrigger(updateProp(trigger,\"requirements\", new_reqs))\r\n    }\r\n\r\n    const deleteRequirement = removed => {\r\n        const new_reqs = props.trigger.requirements.filter(x => x !== removed)\r\n        setTrigger(updateProp(trigger,\"requirements\",  new_reqs.length ? new_reqs : undefined))\r\n    }\r\n\r\n    const updateRequirements = (old_req, changed_prop, new_value) => {\r\n        const changed_req = { ...old_req, [changed_prop]: new_value }\r\n        const new_reqs = props.trigger.requirements.slice()\r\n        new_reqs[props.trigger.requirements.indexOf(old_req)] = changed_req\r\n        setTrigger(updateProp(trigger,\"requirements\",  new_reqs))\r\n    }\r\n\r\n\r\n    return (\r\n        <Card>\r\n            <Card.Body>\r\n                <Card.Title>Trigger <Button variant=\"danger\" onClick={handleDeletion}>Delete</Button></Card.Title>\r\n                <FormGroup>\r\n                    <Form.Label>Trigger ID</Form.Label>\r\n                    <FormControl value={trigger.name} onChange={update_trigger_name} />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    <Form.Label>Target Node On Trigger</Form.Label>\r\n                    <NodeSelectionDropdown allowNone={true} value={trigger.target_node} onChange={update_trigger_target_node}/>\r\n                </FormGroup>\r\n                <EffectBuilder\r\n                    title=\"On Trigger Effects\"\r\n                    effects={trigger.on_trigger_effects}\r\n                    handleEffectAdded={added => addEffect(\"on_trigger_effects\", added)}\r\n                    handleEffectsChanged={(old, prop, new_value) => updateEffects(\"on_trigger_effects\", old, prop, new_value)}\r\n                    handleEffectDeleted={deleted => deleteEffect(\"on_trigger_effects\", deleted)} />\r\n                <RequirementsBuilder\r\n                    title=\"Trigger Requirements\"\r\n                    requirements={props.trigger.requirements}\r\n                    handleRequirementAdded={addRequirement}\r\n                    handleRequirementDeleted={deleteRequirement}\r\n                    handleRequirementsChanged={updateRequirements}\r\n                />\r\n            </Card.Body>\r\n        </Card>\r\n\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { Button, Col, Container, Row, Card,Alert,Table } from 'react-bootstrap'\r\nimport {preset_images,EffectTypes,ValueTypes} from '../ExternalDefines'\r\nimport {useRecoilState} from 'recoil'\r\nimport { AdventureState, TriggerData } from '../State';\r\n\r\n\r\nexport function AdventurePlayer(props) {\r\n\r\n    const [adventure] = useRecoilState(AdventureState)\r\n\r\n    const [currentNode,setCurrentNode] = useState(adventure.nodes.find(node => node.name === adventure.starting_node) || adventure.nodes[0])\r\n    const [qualities,setQualities] = useState(adventure.starting_qualities)\r\n    const [prevNode,setPrevNode] = useState(currentNode ? currentNode.name : \"\")\r\n    \r\n    const restart_test = () => {\r\n        setCurrentNode(adventure.nodes.find(node => node.name === adventure.starting_node) || adventure.nodes[0])\r\n        setQualities(adventure.starting_qualities)\r\n        setPrevNode(currentNode.name)\r\n    }\r\n\r\n    const checkReq = (req, qstore) => {\r\n        switch(req.operator){\r\n            case \"==\":\r\n                if(qstore[req.quality] === req.value)\r\n                    return true\r\n                break\r\n            case \"!=\":\r\n                if(qstore[req.quality] !== req.value)\r\n                    return true\r\n                break\r\n            case \"<=\":\r\n                if(qstore[req.quality] <= req.value)\r\n                    return true\r\n                break\r\n            case \">=\":\r\n                if(qstore[req.quality] >= req.value)\r\n                    return true\r\n                break\r\n            case \">\":\r\n                if(qstore[req.quality] > req.value)\r\n                    return true\r\n                break\r\n            case \"<\":\r\n                if(qstore[req.quality] < req.value)\r\n                    return true\r\n                break\r\n            default:\r\n                alert(\"Unknown operator\")\r\n        }\r\n    }\r\n\r\n    const check_group = (req_group,group_type,qstore) => {\r\n        switch(group_type){\r\n            case \"AND\":\r\n                for(let req of req_group){\r\n                    if(req.group_type !== undefined){\r\n                        if(!check_group(req.requirements,req.group_type,qstore))\r\n                            return false;\r\n                    }else if(!checkReq(req,qstore))\r\n                        return false\r\n                }\r\n                return true;\r\n            case \"OR\":\r\n                for(let req of req_group){\r\n                    if(req.group_type !== undefined){\r\n                        if(check_group(req,req.group_type,qstore))\r\n                            return true;\r\n                    }else if(checkReq(req,qstore))\r\n                        return true;\r\n                }\r\n                return false;\r\n            default:\r\n                alert(\"wrong group_type\")\r\n        }\r\n    }\r\n\r\n    const checkChoice = (choice,qstore) => {\r\n        if(choice.requirements === undefined)\r\n            return true\r\n        return check_group(choice.requirements,\"AND\",qstore)\r\n    }\r\n\r\n    const navigateToNode = (node_name,qstore) => {\r\n        if(currentNode.on_exit_effects !== undefined){\r\n            if(apply_effects(currentNode.on_exit_effects,qstore))\r\n                return\r\n        }\r\n        switch(node_name){\r\n            case \"WIN\":\r\n                alert(\"Here you would complete the adventure in real game and recieve loot.\")\r\n                break\r\n            case \"FAIL\":\r\n                alert(\"Here you would lose the adventure in real game and get dealt half integrity as damage.\")\r\n                break\r\n            case \"FAIL_DEATH\":\r\n                alert(\"Here you would lose the adventure in real game and blown up.\")\r\n                break\r\n            case \"GO_BACK\":\r\n                navigateToNode(prevNode,qstore)\r\n                break\r\n            default:\r\n                const next_node = adventure.nodes.find(node => node.name === node_name)\r\n                setCurrentNode(next_node)\r\n                if(prevNode !== next_node.name)\r\n                    setPrevNode(next_node.name)\r\n                if(next_node.on_enter_effects !== undefined){\r\n                    if(apply_effects(next_node.on_enter_effects,qstore))\r\n                        return\r\n                }\r\n        }\r\n    }\r\n    const triggerGuard : Array<TriggerData> = []\r\n    const checkTriggers = (qstore) => {\r\n        if(adventure.triggers !== undefined){\r\n            for (let trigger of adventure.triggers) {\r\n                if(!check_group(trigger.requirements,\"AND\",qstore))\r\n                    continue\r\n                if(triggerGuard.includes(trigger)){\r\n                    alert(`Recursive trigger detected. ${trigger.name}`)\r\n                    continue\r\n                }\r\n                triggerGuard.push(trigger)\r\n                if(trigger.on_trigger_effects !== undefined){\r\n                    if(apply_effects(trigger.on_trigger_effects,qstore))\r\n                        return true\r\n                }\r\n                if(trigger.target_node !== undefined)\r\n                    navigateToNode(trigger.target_node,qstore)\r\n                    return true\r\n            }\r\n        }\r\n        triggerGuard.length = 0\r\n        return false;\r\n    }\r\n\r\n    ///thanks mdn\r\n    const getRandomInt = (min, max) => {\r\n        min = Math.ceil(min);\r\n        max = Math.floor(max+1); //[x..y] not [x..y)\r\n        return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\r\n    }\r\n\r\n    const extractValue = value => {\r\n        if(value === Object(value)){\r\n            switch(value.value_type){\r\n                case ValueTypes.random:\r\n                    return getRandomInt(value.low,value.high)\r\n                default:\r\n                    alert(\"wrong value type\")\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n\r\n    const apply_effects = (effect_list,qstore) => {\r\n        var resulting_qualities = {...qstore}\r\n        for (let effect of effect_list) {\r\n            const extractedValue = extractValue(effect.value)\r\n            switch(effect.effect_type){\r\n                case EffectTypes.Add:\r\n                    resulting_qualities[effect.quality] = (resulting_qualities[effect.quality] || 0) + extractedValue\r\n                    break;\r\n                case EffectTypes.Set:\r\n                    resulting_qualities[effect.quality] = extractedValue\r\n                    break;\r\n                case EffectTypes.Remove:\r\n                    delete resulting_qualities[effect.quality]\r\n                    break;\r\n                default:\r\n                    alert(\"wrong effect type\")\r\n            }\r\n        }\r\n        setQualities(resulting_qualities)\r\n        if(checkTriggers(resulting_qualities))\r\n            return true\r\n        return false;\r\n    }\r\n\r\n    const selectChoice = (choice) => {\r\n        const qstore = {...qualities}\r\n        if(choice.on_selection_effects !== undefined){\r\n            if(apply_effects(choice.on_selection_effects,qstore))\r\n                return\r\n        }\r\n        navigateToNode(choice.exit_node,qstore)\r\n    }\r\n\r\n    const replaceKeywords = (text : string) => {\r\n        const subRegex = /\\$\\$(\\S*)/g;\r\n        return text.replace(subRegex, (match,g1) => { \r\n            switch (g1) {\r\n                case \"SITE_NAME\":\r\n                    return \"SITE NAME WOULD GO HERE\"\r\n                default:\r\n                    return qualities[g1] as string\r\n            }\r\n         })\r\n    }\r\n\r\n    if(!currentNode)\r\n        return (<Alert variant=\"danger\">You need at least one node to play.</Alert>)\r\n\r\n    return (\r\n        <Container>\r\n            <Alert variant=\"danger\">Delays are not implemented. Choices shown as disabled would not be visible in-game</Alert>\r\n            <Row>\r\n                <Col>\r\n                    <Button onClick={restart_test}>Restart</Button>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col>\r\n                    <Card>\r\n                        <Card.Img src={currentNode.raw_image ? currentNode.raw_image : preset_images[currentNode.image]}/>\r\n                        <Card.Body>\r\n                            <Card.Text>{replaceKeywords(currentNode.description)}</Card.Text>\r\n                            <Container>\r\n                                {currentNode.choices.map(choice => (\r\n                                    <Row key={choice.id}><Col><Button disabled={!checkChoice(choice,qualities)} onClick={() => selectChoice(choice)}>{choice.name}</Button></Col></Row>\r\n                                ))}\r\n                            </Container>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Quality</th>\r\n                            <th>Value</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {Object.keys(qualities).map(qname => (<tr key={qname}><td>{qname}</td><td>{qualities[qname]}</td></tr>)) }\r\n                    </tbody>\r\n                </Table>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React,{useRef, useState} from 'react'\r\nimport { Button, Col, Container, Row, Tab, Nav, FormControl, FormGroup, Form, ButtonGroup,Modal, OverlayTrigger,Tooltip, ButtonToolbar } from 'react-bootstrap'\r\nimport {useRecoilState, useRecoilValue} from 'recoil'\r\nimport {AdventureState,NodesSelector,NodeData,TriggersSelector,TriggerData, unique_id} from '../State'\r\nimport {updateProp} from '../Helpers'\r\nimport {AdventureNode} from './AdventureNode'\r\nimport {AdventureTrigger} from './AdventureTrigger'\r\nimport {BasicCollapsible,NodeSelectionDropdown, KeyValueList, SimpleList} from './Utility'\r\nimport {scan_bands, loot_types, site_traits, json_version} from '../ExternalDefines'\r\nimport { AdventurePlayer } from './AdventurePlayer'\r\nimport example_adventure from '../example/Theres_a_tree_in_the_middle_of_space.json'\r\n\r\n\r\nexport function AdventureEditor() {\r\n    const [adventure,setAdventure] = useRecoilState(AdventureState);\r\n    const nodes = useRecoilValue(NodesSelector)\r\n    const triggers = useRecoilValue(TriggersSelector)\r\n\r\n    const [activeTab,setActiveTab] = useState(\"\")\r\n    const [draggedItem,setDraggedItem] = useState(null)\r\n   \r\n    const add_node = () => {\r\n      const modified_adventure = {...adventure,\r\n        nodes:[...nodes,new NodeData()]\r\n      }\r\n      setAdventure(modified_adventure)\r\n    }\r\n    const delete_node = (node) => {\r\n      var old_index = nodes.findIndex(x => x === node)\r\n      const changed_nodes = nodes.filter(x => x !== node)\r\n      setAdventure(updateProp(adventure,\"nodes\",changed_nodes))\r\n      if(changed_nodes.length){\r\n          const new_index = Math.max(0,old_index -1)\r\n          setActiveTab(changed_nodes[new_index].id)\r\n      }\r\n    }\r\n\r\n    const add_trigger = () => {\r\n      const modified_adventure = {...adventure,\r\n        triggers:[...triggers,new TriggerData()]\r\n      }\r\n      setAdventure(modified_adventure)\r\n\r\n    }\r\n    const delete_trigger = (trigger) => {\r\n      const changed_triggers = triggers.filter(x => x !== trigger)\r\n      setAdventure(updateProp(adventure,\"triggers\",changed_triggers))\r\n      \r\n    }\r\n\r\n    \r\n    const handleExport = () => {\r\n      const data_object = {\r\n        adventure_name: adventure.name,\r\n        version: json_version,\r\n        author : adventure.author,\r\n        starting_node: startingNode,\r\n        starting_qualities: adventure.starting_qualities,\r\n        required_site_traits: adventure.required_site_traits,\r\n        loot_categories : adventure.loot_types,\r\n        scan_band_mods : adventure.band_modifiers,\r\n        deep_scan_description : adventure.deep_scan_description,\r\n        triggers : adventure.triggers,\r\n        nodes: nodes\r\n      }\r\n      //Internal stuff, byond doesn't care about this\r\n      const remove_ids = (key, value) => {\r\n        if (key === \"id\")\r\n          return undefined\r\n        return value;\r\n      }\r\n      const blob = new Blob([JSON.stringify(data_object, remove_ids)], { type: 'application/json' })\r\n      const blob_url = URL.createObjectURL(blob)\r\n      \r\n      ExportLink.current.href = blob_url\r\n      ExportLink.current.download = `${adventure.name}.json`\r\n      ExportLink.current.click();\r\n    }\r\n\r\n    const regenerate_reqs = req_list => {\r\n      for(var req of req_list){\r\n        req.id = unique_id(\"req\")\r\n        if(req.group_type !== undefined){\r\n          if(req.requirements !== undefined)\r\n            regenerate_reqs(req.requirements)\r\n        }\r\n      }\r\n    }\r\n\r\n    const regenerate_effects = effects => {\r\n      for(var effect of effects){\r\n        effect.id = unique_id(\"effect\")\r\n      }\r\n    }\r\n    /// Regenerates temporary ids\r\n    const regenerate_ids = node_list =>{\r\n      for(var node of node_list){\r\n        node.id = unique_id(\"Node\")\r\n        for(var choice of node.choices){\r\n          choice.id = unique_id(\"choice\")\r\n          if(choice.on_selection_effects !== undefined){\r\n            regenerate_effects(choice.on_selection_effects)\r\n          }\r\n          if(choice.requirements !== undefined){\r\n            regenerate_reqs(choice.requirements)\r\n          }\r\n        }\r\n        if(node.on_enter_effects !== undefined)\r\n          regenerate_effects(node.on_enter_effects)\r\n        if(node.on_exit_effects !== undefined)\r\n          regenerate_effects(node.on_exit_effects)\r\n      }\r\n      return node_list\r\n    }\r\n\r\n    const regenerate_trigger_ids = trigger_list => {\r\n      for(var trigger of trigger_list){\r\n        trigger.id = unique_id(\"trigger\")\r\n        if(trigger.requirements !== undefined){\r\n          regenerate_reqs(trigger.requirements)\r\n        }\r\n        if(trigger.on_trigger_effects !== undefined){\r\n          regenerate_effects(trigger.on_trigger_effects)\r\n        }\r\n      }\r\n      return trigger_list\r\n    }\r\n\r\n    const importAdventure = (jsonData) => {\r\n      const json = JSON.parse(jsonData);\r\n      const reindexed_nodes = regenerate_ids(json.nodes)\r\n      const reindexed_triggers = regenerate_trigger_ids(json.triggers)\r\n\r\n      const modified_adventure = {...adventure,\r\n        name:json.adventure_name,\r\n        author : json.author,\r\n        starting_node:json.starting_node,\r\n        starting_qualities:json.starting_qualities,\r\n        required_site_traits:json.required_site_traits,\r\n        band_modifiers:json.scan_band_mods,\r\n        loot_types:json.loot_categories,\r\n        triggers:reindexed_triggers,\r\n        nodes:reindexed_nodes\r\n      }\r\n      setAdventure(modified_adventure)\r\n    }\r\n  \r\n    const handleImport = e => {\r\n      var reader = new FileReader()\r\n      reader.onload = (e) =>{\r\n        \r\n        importAdventure(e.target.result as string)\r\n      }\r\n      reader.readAsText(e.target.files[0])\r\n    }\r\n\r\n    const handleExample = e => {\r\n      importAdventure(JSON.stringify(example_adventure))\r\n    }\r\n\r\n    const ImportInput = useRef<HTMLInputElement>()\r\n    const clickImport = () => {\r\n      ImportInput.current.click()\r\n    }\r\n\r\n    const ExportLink = useRef<HTMLAnchorElement>()\r\n\r\n    const start_dragging = (e,node) => {\r\n      setDraggedItem(node)\r\n    } \r\n\r\n    const end_dragging = (e,node) => {\r\n      setDraggedItem(null)\r\n    }\r\n\r\n    const switch_node = (node) => {\r\n      if(draggedItem != null){\r\n        const index_a = nodes.indexOf(node)\r\n        const index_b = nodes.indexOf(draggedItem)\r\n        const modified_nodes = nodes.slice();\r\n        [modified_nodes[index_a],modified_nodes[index_b]] = [modified_nodes[index_b],modified_nodes[index_a]]\r\n        setAdventure(updateProp(adventure,\"nodes\",modified_nodes))\r\n      }\r\n    }\r\n\r\n    const validate_drop = (e,node) => {\r\n      if(draggedItem != null && node !== draggedItem){\r\n        e.preventDefault()\r\n      }\r\n    }\r\n\r\n    const getDefaultTab = () => {\r\n      if(nodes.length)\r\n        return nodes[0].id.toString()\r\n    }\r\n    const openTab = activeTab || getDefaultTab()\r\n    \r\n    const getDefaultStartingNode = () => {\r\n      if(nodes.length)\r\n        return nodes[0].name\r\n    }\r\n    const startingNode = adventure.starting_node || getDefaultStartingNode()\r\n\r\n\r\n    const [playing,setPlaying] = useState(false)\r\n\r\n    const toggle_playing = () => {\r\n      setPlaying(!playing)\r\n    }\r\n\r\n    const renderTooltip = (text) => (props) => (\r\n      <Tooltip id=\"button-tooltip\" {...props}>\r\n        {text}\r\n      </Tooltip>\r\n    );\r\n\r\n    return (\r\n    <>\r\n    <Modal show={playing} onHide={toggle_playing}>\r\n      <AdventurePlayer adventure={adventure}/>\r\n    </Modal>\r\n    <Container>\r\n      <Row>\r\n        <Col>\r\n        <ButtonToolbar>\r\n        <ButtonGroup className=\"mr-2\">\r\n            <Button onClick={handleExport}>Export</Button>\r\n            <a ref={ExportLink} style={{display:\"none\"}} href=\"/\">God is this really how JS supposed to work</a>\r\n            <Button onClick={clickImport}>Import</Button>\r\n            <Form.File\r\n              onChange={handleImport}\r\n              accept=\".json\"\r\n              ref={ImportInput}\r\n              style ={{display:\"none\"}}/>\r\n            <Button onClick={toggle_playing}>Test</Button>\r\n        </ButtonGroup>\r\n        <ButtonGroup>\r\n          <OverlayTrigger placement=\"right\" overlay={renderTooltip(\"Loads example adventure\")}>\r\n            <Button onClick={handleExample}>Load Example Adventure</Button>\r\n          </OverlayTrigger>\r\n        </ButtonGroup>\r\n        </ButtonToolbar>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n        <BasicCollapsible title=\"Adventure Config\">\r\n            <Form>\r\n              <FormGroup>\r\n                <Form.Label>Adventure name</Form.Label>\r\n                <Form.Text muted>Adventure name, should be specific as possible since it needs to be unique among all adventures</Form.Text>\r\n                <FormControl placeholder=\"New adventure\" value={adventure.name} onChange={(e) => setAdventure(updateProp(adventure,\"name\",e.target.value))} />\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Form.Label>Author</Form.Label>\r\n                <Form.Text muted>Your name</Form.Text>\r\n                <FormControl value={adventure.author} onChange={(e) => setAdventure(updateProp(adventure,\"author\",e.target.value))} />\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Form.Label>Starting node</Form.Label>\r\n                <Form.Text muted>This is the node the adventure will being at. On Enter effects WILL fire for this node.</Form.Text>\r\n                <NodeSelectionDropdown value={startingNode} onChange={(e) => setAdventure(updateProp(adventure,\"starting_node\",e.target.value))} allowCustom={false}/>\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Form.Label>Starting qualities</Form.Label>\r\n                <Form.Text muted>These qualities will be set once before adventure begins on top of qualities provided by drone equipment.</Form.Text>\r\n                <KeyValueList adventureProp=\"starting_qualities\"/>\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Form.Label>Required site traits</Form.Label>\r\n                <Form.Text muted>This adventure will only appear on exploration sites with all these traits</Form.Text>\r\n                <SimpleList presetValues={site_traits} adventureProp=\"required_site_traits\"/>\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Form.Label>Loot type</Form.Label>\r\n                <Form.Text muted>Generator type used for adventure loot when win node is reached.</Form.Text>\r\n                <SimpleList presetValues={loot_types} adventureProp=\"loot_types\"/>\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Form.Label>Scanning modifiers</Form.Label>\r\n                <Form.Text muted>These modifiers will be applied to point scan results of the exploration site with this adventure.</Form.Text>\r\n                <KeyValueList presetKeys={scan_bands} adventureProp=\"band_modifiers\"/>\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Form.Label>Deep scan description</Form.Label>\r\n                <Form.Text muted>This description will be added to exploration site's description after a deep scan.</Form.Text>\r\n                <FormControl value={adventure.deep_scan_description} onChange={(e) => setAdventure(updateProp(adventure,\"deep_scan_description\",e.target.value))} />\r\n              </FormGroup>\r\n            </Form>\r\n        </BasicCollapsible>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n          <BasicCollapsible title=\"Nodes\">\r\n          <Tab.Container id=\"nodes\" activeKey={openTab} onSelect={e => setActiveTab(e)}>\r\n            <Row>\r\n              <Col>\r\n                <Nav variant=\"tabs\">\r\n                  {nodes.map(node => (\r\n                    <Nav.Item \r\n                      key={node.id} \r\n                      draggable \r\n                      onDragEnd={e => end_dragging(e,node)} \r\n                      onDragStart={e => start_dragging(e,node)} \r\n                      onDrop={() => switch_node(node)}\r\n                      onDragOver={e => validate_drop(e,node)}\r\n                      >\r\n                      <Nav.Link eventKey={node.id}>{node.name}</Nav.Link>\r\n                    </Nav.Item>))}\r\n                  <Nav.Item>\r\n                    <Nav.Link onClick={add_node}>Add Node</Nav.Link>\r\n                  </Nav.Item>\r\n                </Nav>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <Tab.Content>\r\n                    {nodes.map(node => (\r\n                      <Tab.Pane eventKey={node.id} key={node.id}>\r\n                        <AdventureNode \r\n                          node={node}\r\n                          handleNodeDeletion={() => delete_node(node)}\r\n                          />\r\n                      </Tab.Pane>))}\r\n                  </Tab.Content>\r\n              </Col>\r\n            </Row>\r\n          </Tab.Container>\r\n          </BasicCollapsible>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n        <BasicCollapsible title=\"Triggers\" startCollapsed>\r\n          <Container>\r\n            <Row><Col><Form.Text muted>Triggers are checks that happen after any quality changes. If requirements are met the effects and/or node changes are applied over the choice that made it happen.</Form.Text></Col></Row>\r\n            <Row>\r\n              {triggers.map(trigger => (\r\n                <Col key={trigger.id} xl=\"auto\"><AdventureTrigger trigger={trigger} handleDeletion={() => delete_trigger(trigger)}/></Col>\r\n              ))}\r\n              <Col>\r\n                <Button onClick={add_trigger}>Add Trigger</Button>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </BasicCollapsible>\r\n        </Col>\r\n      </Row>\r\n    </Container></>)\r\n  }","import './App.css';\r\nimport {RecoilRoot} from 'recoil'\r\nimport {AdventureEditor} from './Components/AdventureEditor'\r\n\r\n/*\r\nTODO:\r\nBasic validation of loops/invalid node ids and such.\r\nStyling this to look good aaahhh!!!\r\n*/\r\n\r\nfunction App(){\r\n  return (\r\n    <RecoilRoot>\r\n      <AdventureEditor/>\r\n    </RecoilRoot>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}